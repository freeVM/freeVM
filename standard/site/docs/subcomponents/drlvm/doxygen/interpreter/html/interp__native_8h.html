<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Interpreter: interp_native.h File Reference</title>
<link href="hydoxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul>
</div>
<h1>interp_native.h File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
Defines native-related macros and functions used by the interpreter. 
<p>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp__native_8h.html#acaa9f3aaf173600cbf2f67ebaffe672">M2N_ALLOC_MACRO</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocates memory.  <a href="#acaa9f3aaf173600cbf2f67ebaffe672"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp__native_8h.html#43e0f9b97def244c9b9e29712de53e59">M2N_FREE_MACRO</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frees memory.  <a href="#43e0f9b97def244c9b9e29712de53e59"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp__native_8h.html#e8068c82cb00f3412b4b25d7a5c72e59">vm_enumerate_root_set_single_thread_not_on_stack</a> (VM_thread *thread)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enumerates thread-assocciated references that are not stored on the thread's stack.  <a href="#e8068c82cb00f3412b4b25d7a5c72e59"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VMEXPORT void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp__native_8h.html#bb80beaeba1763555908db16d421146a">free_local_object_handles2</a> (ObjectHandles *head)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frees and deletes all local object handles.  <a href="#bb80beaeba1763555908db16d421146a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">GenericFunctionPointer&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp__native_8h.html#c7af7c610401eebf644f1dbad451d040">interpreterGetNativeMethodAddr</a> (Method *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Looks up the implementation for the native method.  <a href="#c7af7c610401eebf644f1dbad451d040"></a><br></td></tr>
</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="acaa9f3aaf173600cbf2f67ebaffe672"></a><!-- doxytag: member="interp_native.h::M2N_ALLOC_MACRO" ref="acaa9f3aaf173600cbf2f67ebaffe672" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define M2N_ALLOC_MACRO          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">assert(!hythread_is_suspend_enabled());                      \
    M2nFrame m2n;                                           \
    memset((<span class="keywordtype">void</span>*)&amp;m2n, 0, <span class="keyword">sizeof</span>(M2nFrame));               \
    m2n.prev_m2nf = m2n_get_last_frame();                   \
    m2n_set_last_frame(&amp;m2n);                               \
                                                            \
    <span class="keyword">union </span>{                                                 \
        ObjectHandlesOld old;                               \
        ObjectHandlesNew nw;                                \
    } handles;                                              \
    handles.nw.capacity = 0;                                \
    handles.nw.size = 0;                                    \
    handles.nw.next = 0;                                    \
    m2n_set_local_handles(&amp;m2n, (ObjectHandles*)&amp;handles)
</pre></div>Allocates memory. 
<p>

</div>
</div><p>
<a class="anchor" name="43e0f9b97def244c9b9e29712de53e59"></a><!-- doxytag: member="interp_native.h::M2N_FREE_MACRO" ref="43e0f9b97def244c9b9e29712de53e59" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define M2N_FREE_MACRO          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">assert(!hythread_is_suspend_enabled());                      \
    <a class="code" href="interp__native_8h.html#bb80beaeba1763555908db16d421146a" title="Frees and deletes all local object handles.">free_local_object_handles2</a>(m2n_get_local_handles(&amp;m2n));\
    m2n_set_last_frame(m2n_get_previous_frame(&amp;m2n))
</pre></div>Frees memory. 
<p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="e8068c82cb00f3412b4b25d7a5c72e59"></a><!-- doxytag: member="interp_native.h::vm_enumerate_root_set_single_thread_not_on_stack" ref="e8068c82cb00f3412b4b25d7a5c72e59" args="(VM_thread *thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vm_enumerate_root_set_single_thread_not_on_stack           </td>
          <td>(</td>
          <td class="paramtype">VM_thread *&nbsp;</td>
          <td class="paramname"> <em>thread</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Enumerates thread-assocciated references that are not stored on the thread's stack. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>thread</em>&nbsp;</td><td>- the thread pointer </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="bb80beaeba1763555908db16d421146a"></a><!-- doxytag: member="interp_native.h::free_local_object_handles2" ref="bb80beaeba1763555908db16d421146a" args="(ObjectHandles *head)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VMEXPORT void free_local_object_handles2           </td>
          <td>(</td>
          <td class="paramtype">ObjectHandles *&nbsp;</td>
          <td class="paramname"> <em>head</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Frees and deletes all local object handles. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>head</em>&nbsp;</td><td>- the object handles pointer </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="c7af7c610401eebf644f1dbad451d040"></a><!-- doxytag: member="interp_native.h::interpreterGetNativeMethodAddr" ref="c7af7c610401eebf644f1dbad451d040" args="(Method *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GenericFunctionPointer interpreterGetNativeMethodAddr           </td>
          <td>(</td>
          <td class="paramtype">Method *&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Looks up the implementation for the native method. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>method</em>&nbsp;</td><td>- the searching native-method structure </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The pointer to find the native function. </dd></dl>

</div>
</div><p>
<hr size="1">
<address style="text-align: center;">
  <small>
    <p>Genereated on Tue Mar 11 19:25:37 2008 by Doxygen.</p>
    <p>(c) Copyright 2005, 2008 The Apache Software Foundation or its licensors, as applicable. </p>
  </small>
</address>
</body>
</html>
