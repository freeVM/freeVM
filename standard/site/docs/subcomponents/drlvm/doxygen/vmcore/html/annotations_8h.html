<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>VM Infrastructure: annotations.h File Reference</title>
<link href="hydoxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Packages</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul>
</div>
<h1>annotations.h File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
Declaration of main resolution routines for Java annotations. 
<p>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__jobject.html">jobjectArray</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="annotations_8h.html#a5191880b14a8d3a6f6bab85391722c8">get_annotations</a> (<a class="el" href="struct_j_n_i_native_interface__.html">JNIEnv</a> *jenv, <a class="el" href="struct_annotation_table.html">AnnotationTable</a> *table, <a class="el" href="struct_annotation_table.html">AnnotationTable</a> *inv_table, <a class="el" href="struct_class.html">Class</a> *clss)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns common array of visible and invisible annotations.  <a href="#a5191880b14a8d3a6f6bab85391722c8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__jobject.html">jobject</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="annotations_8h.html#6741fe2ea7cce283898337ec7ce512db">resolve_annotation</a> (<a class="el" href="struct_j_n_i_native_interface__.html">JNIEnv</a> *jenv, <a class="el" href="struct_annotation.html">Annotation</a> *antn, <a class="el" href="struct_class.html">Class</a> *clss, <a class="el" href="struct__jobject.html">jthrowable</a> *cause=NULL)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns resolved annotation or null if resolution failed.  <a href="#6741fe2ea7cce283898337ec7ce512db"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__jobject.html">jobject</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="annotations_8h.html#612786de930a662342732ae3b4121481">resolve_annotation_value</a> (<a class="el" href="struct_j_n_i_native_interface__.html">JNIEnv</a> *jenv, <a class="el" href="struct_class.html">Class</a> *clss, <a class="el" href="struct_annotation_value.html">AnnotationValue</a> &amp;antn, <a class="el" href="struct_class.html">Class</a> *antn_clss, <a class="el" href="struct_string.html">String</a> *<a class="el" href="jvmti__types_8h.html#f35794c5a3717fe860d6a053f96e29f9">name</a>, <a class="el" href="struct__jobject.html">jthrowable</a> *cause)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns resolved annotation value or null if resolution failed.  <a href="#612786de930a662342732ae3b4121481"></a><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a5191880b14a8d3a6f6bab85391722c8"></a><!-- doxytag: member="annotations.h::get_annotations" ref="a5191880b14a8d3a6f6bab85391722c8" args="(JNIEnv *jenv, AnnotationTable *table, AnnotationTable *inv_table, Class *clss)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__jobject.html">jobjectArray</a> get_annotations           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_j_n_i_native_interface__.html">JNIEnv</a> *&nbsp;</td>
          <td class="paramname"> <em>jenv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_annotation_table.html">AnnotationTable</a> *&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_annotation_table.html">AnnotationTable</a> *&nbsp;</td>
          <td class="paramname"> <em>inv_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_class.html">Class</a> *&nbsp;</td>
          <td class="paramname"> <em>clss</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns common array of visible and invisible annotations. 
<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>invisible annotations are present only if -Xinvisible command line flag is set An annotation which cannot be resolved (i.e. it's type cannot be loaded) is silently ignored, per JSR-175. Returns zero-sized array if there are no (resolved) annotations. May raise an exception, in this case returns null.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>jenv</em>&nbsp;</td><td>- JNI interface </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>table</em>&nbsp;</td><td>- annotations to resolve </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>inv_table</em>&nbsp;</td><td>- invisible annotations to resolve </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>clss</em>&nbsp;</td><td>- an "owner" class, which is annotated or whose member is annotated </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>- array of resolved annotations or null </dd></dl>

</div>
</div><p>
<a class="anchor" name="6741fe2ea7cce283898337ec7ce512db"></a><!-- doxytag: member="annotations.h::resolve_annotation" ref="6741fe2ea7cce283898337ec7ce512db" args="(JNIEnv *jenv, Annotation *antn, Class *clss, jthrowable *cause=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__jobject.html">jobject</a> resolve_annotation           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_j_n_i_native_interface__.html">JNIEnv</a> *&nbsp;</td>
          <td class="paramname"> <em>jenv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_annotation.html">Annotation</a> *&nbsp;</td>
          <td class="paramname"> <em>antn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_class.html">Class</a> *&nbsp;</td>
          <td class="paramname"> <em>clss</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__jobject.html">jthrowable</a> *&nbsp;</td>
          <td class="paramname"> <em>cause</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns resolved annotation or null if resolution failed. 
<p>
If the cause parameter is not null, resolution error is assigned to it for upstream processing; otherwise the error is raised. In case of errors other than resolving failure, the error is raised, null is returned and cause is unchanged<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>jenv</em>&nbsp;</td><td>- JNI interface </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>antn</em>&nbsp;</td><td>- the annotation to be resolved </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>clss</em>&nbsp;</td><td>- an "owner" class, which is annotated or whose member is annotated </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cause</em>&nbsp;</td><td>- out-parameter to return resolution failure (if any) </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>- resolved annotation or null if resolution failed </dd></dl>

</div>
</div><p>
<a class="anchor" name="612786de930a662342732ae3b4121481"></a><!-- doxytag: member="annotations.h::resolve_annotation_value" ref="612786de930a662342732ae3b4121481" args="(JNIEnv *jenv, Class *clss, AnnotationValue &amp;antn, Class *antn_clss, String *name, jthrowable *cause)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__jobject.html">jobject</a> resolve_annotation_value           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_j_n_i_native_interface__.html">JNIEnv</a> *&nbsp;</td>
          <td class="paramname"> <em>jenv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_class.html">Class</a> *&nbsp;</td>
          <td class="paramname"> <em>clss</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_annotation_value.html">AnnotationValue</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>antn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_class.html">Class</a> *&nbsp;</td>
          <td class="paramname"> <em>antn_clss</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_string.html">String</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__jobject.html">jthrowable</a> *&nbsp;</td>
          <td class="paramname"> <em>cause</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns resolved annotation value or null if resolution failed. 
<p>
In case of a resolution failure, the error is assigned to the "cause" parameter for upstream processing. In case of errors other than resolving failure, the error is raised, null is returned and cause is unchanged<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>jenv</em>&nbsp;</td><td>- JNI interface pointer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>clss</em>&nbsp;</td><td>- an "owner" class, which is annotated or whose member is annotated </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>antn</em>&nbsp;</td><td>- the value to be resolved </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>antn_clss</em>&nbsp;</td><td>- annotation type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>- the name of an annotation member which holds the value </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cause</em>&nbsp;</td><td>- out-parameter to return resolution failure (if any) </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>- resolved annotation value or null if resolution failed </dd></dl>

</div>
</div><p>
<hr size="1">
<address style="text-align: center;">
  <small>
    <p>Genereated on Tue Mar 11 19:25:56 2008 by Doxygen.</p>
    <p>(c) Copyright 2005, 2008 The Apache Software Foundation or its licensors, as applicable. </p>
  </small>
</address>
</body>
</html>
