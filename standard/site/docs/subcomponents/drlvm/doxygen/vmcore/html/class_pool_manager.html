<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>VM Infrastructure: PoolManager Class Reference</title>
<link href="hydoxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Packages</span></a></li>
    <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul>
</div>
<h1>PoolManager Class Reference</h1><!-- doxytag: class="PoolManager" --><code>#include &lt;mem_alloc.h&gt;</code>
<p>
<a href="class_pool_manager-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pool_manager.html#8c1ab3abb6dfe85838b3f97e04be35f7">PoolManager</a> (size_t initial_size, size_t page_size, bool use_large_pages, bool is_code, bool is_resize_allowed)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pool_manager.html#77b3cfa268291adf2116a72582c65a10">~PoolManager</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pool_manager.html#2d90d6457368bb9358ee629f83466f81">alloc</a> (size_t <a class="el" href="jvmti__types_8h.html#3d3621eb57d320cce49279c6c1d59656">size</a>, size_t alignment, Code_Allocation_Action action)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">Byte *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pool_manager.html#d5539f4d867c9f3cd377b23c7700e6a0">get_pool_base</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_pool_descriptor.html">PoolDescriptor</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pool_manager.html#25011f72c37d58a01742fbd4055508c1">allocate_pool_storage</a> (size_t <a class="el" href="jvmti__types_8h.html#3d3621eb57d320cce49279c6c1d59656">size</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pool_manager.html#58b1eb43a2a35a8128e50e90722ce864">round_up_to_page_size_multiple</a> (size_t <a class="el" href="jvmti__types_8h.html#3d3621eb57d320cce49279c6c1d59656">size</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pool_manager.html#f0cd88fb23d77a4fc0d6fc390ca12d68">_lock</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pool_manager.html#cbecc8b7c3efc6ae2f1291919ae2d830">_unlock</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_pool_descriptor.html">PoolDescriptor</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pool_manager.html#51e5a4df578440d3a4aba067f8bb24fc">_active_pool</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_pool_descriptor.html">PoolDescriptor</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pool_manager.html#434f36966f36350178f2535cc6d6d1e1">_passive_pool</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pool_manager.html#9c375248e601e47c22d6dccfab921ced">_page_size</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pool_manager.html#067bd8161c85b7fcf1fd76d4bef0e8db">_use_large_pages</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pool_manager.html#fa0ba424b9d895a58f3f327e74808dcf">_default_pool_size</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pool_manager.html#7a8c0047c57d63d5e40dbbd346a5275a">_is_code</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pool_manager.html#c1bc400d4064d90c809783cad5a39e19">_is_resize_allowed</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">apr_pool_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pool_manager.html#4bdcbdac4ba7c0b8fe1a4783bb983f9c">aux_pool</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">apr_thread_mutex_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pool_manager.html#c37b7b4aed2206563a04593835339e10">aux_mutex</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">Byte *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pool_manager.html#0a05d222d2d4bc8c1d00c8426c36de94">vtable_pool_start</a></td></tr>

</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="8c1ab3abb6dfe85838b3f97e04be35f7"></a><!-- doxytag: member="PoolManager::PoolManager" ref="8c1ab3abb6dfe85838b3f97e04be35f7" args="(size_t initial_size, size_t page_size, bool use_large_pages, bool is_code, bool is_resize_allowed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PoolManager.PoolManager           </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>initial_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>page_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>use_large_pages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>is_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>is_resize_allowed</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="77b3cfa268291adf2116a72582c65a10"></a><!-- doxytag: member="PoolManager::~PoolManager" ref="77b3cfa268291adf2116a72582c65a10" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual PoolManager.~PoolManager           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="2d90d6457368bb9358ee629f83466f81"></a><!-- doxytag: member="PoolManager::alloc" ref="2d90d6457368bb9358ee629f83466f81" args="(size_t size, size_t alignment, Code_Allocation_Action action)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* PoolManager.alloc           </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>alignment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Code_Allocation_Action&nbsp;</td>
          <td class="paramname"> <em>action</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="d5539f4d867c9f3cd377b23c7700e6a0"></a><!-- doxytag: member="PoolManager::get_pool_base" ref="d5539f4d867c9f3cd377b23c7700e6a0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Byte* PoolManager.get_pool_base           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="25011f72c37d58a01742fbd4055508c1"></a><!-- doxytag: member="PoolManager::allocate_pool_storage" ref="25011f72c37d58a01742fbd4055508c1" args="(size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pool_descriptor.html">PoolDescriptor</a>* PoolManager.allocate_pool_storage           </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="58b1eb43a2a35a8128e50e90722ce864"></a><!-- doxytag: member="PoolManager::round_up_to_page_size_multiple" ref="58b1eb43a2a35a8128e50e90722ce864" args="(size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t PoolManager.round_up_to_page_size_multiple           </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="f0cd88fb23d77a4fc0d6fc390ca12d68"></a><!-- doxytag: member="PoolManager::_lock" ref="f0cd88fb23d77a4fc0d6fc390ca12d68" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PoolManager._lock           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="cbecc8b7c3efc6ae2f1291919ae2d830"></a><!-- doxytag: member="PoolManager::_unlock" ref="cbecc8b7c3efc6ae2f1291919ae2d830" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PoolManager._unlock           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="51e5a4df578440d3a4aba067f8bb24fc"></a><!-- doxytag: member="PoolManager::_active_pool" ref="51e5a4df578440d3a4aba067f8bb24fc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pool_descriptor.html">PoolDescriptor</a>* <a class="el" href="class_pool_manager.html#51e5a4df578440d3a4aba067f8bb24fc">PoolManager._active_pool</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="434f36966f36350178f2535cc6d6d1e1"></a><!-- doxytag: member="PoolManager::_passive_pool" ref="434f36966f36350178f2535cc6d6d1e1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pool_descriptor.html">PoolDescriptor</a>* <a class="el" href="class_pool_manager.html#434f36966f36350178f2535cc6d6d1e1">PoolManager._passive_pool</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="9c375248e601e47c22d6dccfab921ced"></a><!-- doxytag: member="PoolManager::_page_size" ref="9c375248e601e47c22d6dccfab921ced" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="class_pool_manager.html#9c375248e601e47c22d6dccfab921ced">PoolManager._page_size</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="067bd8161c85b7fcf1fd76d4bef0e8db"></a><!-- doxytag: member="PoolManager::_use_large_pages" ref="067bd8161c85b7fcf1fd76d4bef0e8db" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_pool_manager.html#067bd8161c85b7fcf1fd76d4bef0e8db">PoolManager._use_large_pages</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="fa0ba424b9d895a58f3f327e74808dcf"></a><!-- doxytag: member="PoolManager::_default_pool_size" ref="fa0ba424b9d895a58f3f327e74808dcf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="class_pool_manager.html#fa0ba424b9d895a58f3f327e74808dcf">PoolManager._default_pool_size</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="7a8c0047c57d63d5e40dbbd346a5275a"></a><!-- doxytag: member="PoolManager::_is_code" ref="7a8c0047c57d63d5e40dbbd346a5275a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_pool_manager.html#7a8c0047c57d63d5e40dbbd346a5275a">PoolManager._is_code</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="c1bc400d4064d90c809783cad5a39e19"></a><!-- doxytag: member="PoolManager::_is_resize_allowed" ref="c1bc400d4064d90c809783cad5a39e19" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_pool_manager.html#c1bc400d4064d90c809783cad5a39e19">PoolManager._is_resize_allowed</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="4bdcbdac4ba7c0b8fe1a4783bb983f9c"></a><!-- doxytag: member="PoolManager::aux_pool" ref="4bdcbdac4ba7c0b8fe1a4783bb983f9c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apr_pool_t* <a class="el" href="class_pool_manager.html#4bdcbdac4ba7c0b8fe1a4783bb983f9c">PoolManager.aux_pool</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="c37b7b4aed2206563a04593835339e10"></a><!-- doxytag: member="PoolManager::aux_mutex" ref="c37b7b4aed2206563a04593835339e10" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apr_thread_mutex_t* <a class="el" href="class_pool_manager.html#c37b7b4aed2206563a04593835339e10">PoolManager.aux_mutex</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="0a05d222d2d4bc8c1d00c8426c36de94"></a><!-- doxytag: member="PoolManager::vtable_pool_start" ref="0a05d222d2d4bc8c1d00c8426c36de94" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Byte* <a class="el" href="class_pool_manager.html#0a05d222d2d4bc8c1d00c8426c36de94">PoolManager.vtable_pool_start</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="mem__alloc_8h.html">mem_alloc.h</a></ul>
<hr size="1">
<address style="text-align: center;">
  <small>
    <p>Genereated on Tue Mar 11 19:26:03 2008 by Doxygen.</p>
    <p>(c) Copyright 2005, 2008 The Apache Software Foundation or its licensors, as applicable. </p>
  </small>
</address>
</body>
</html>
