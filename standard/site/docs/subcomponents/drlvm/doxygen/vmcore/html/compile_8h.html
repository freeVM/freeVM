<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>VM Infrastructure: compile.h File Reference</title>
<link href="hydoxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Packages</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul>
</div>
<h1>compile.h File Reference</h1>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_compilation___handle.html">Compilation_Handle</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_stub___override___entry.html">Stub_Override_Entry</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_dynamic_code.html">DynamicCode</a></td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#cc25949ff2b8aa5e51341a771e6368b8">Emitter_Handle</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef void(&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#61321d53824416a9d7f4719336ff188e">Override_Generator</a> )(<a class="el" href="compile_8h.html#cc25949ff2b8aa5e51341a771e6368b8">Emitter_Handle</a>, <a class="el" href="struct_method.html">Method</a> *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Support for stub override code sequences.  <a href="#61321d53824416a9d7f4719336ff188e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef unsigned(&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#c9441179552073b48a7eed69ebaa1389">Override_Size</a> )(<a class="el" href="struct_method.html">Method</a> *)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef void(*)&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#ce9c6e867d89c2fb7cb9213915a9b2f4">MethodInstrumentationProc</a> (<a class="el" href="class_code_chunk_info.html">CodeChunkInfo</a> *callee)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="struct_method.html">Method</a> instrumentation support.  <a href="#ce9c6e867d89c2fb7cb9213915a9b2f4"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#ba7f13a642ea6b81f3652ac33201f2cb">VM_Code_Type</a> { <a class="el" href="compile_8h.html#ba7f13a642ea6b81f3652ac33201f2cb0408776912f6e2fcfad3d6eadc40c867">VM_TYPE_JAVA</a>, 
<a class="el" href="compile_8h.html#ba7f13a642ea6b81f3652ac33201f2cbbab1aee4cdb52ad6c1ab6c3020291250">VM_TYPE_UNKNOWN</a>
 }</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#0a39c1ed840a0935160a0167b744e4cb">vm_add_jit</a> (JIT *jit)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#31255888acca2759949deb6cce933055">vm_delete_all_jits</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#5b7ce7ac9b8bc045b892166975098f06">compile_protect_arguments</a> (<a class="el" href="struct_method.html">Method_Handle</a> <a class="el" href="jvmti__types_8h.html#03510b7e66271c729c629f2342b44c82">method</a>, <a class="el" href="class_gc_frame.html">GcFrame</a> *gc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Protect arguments from GC.  <a href="#5b7ce7ac9b8bc045b892166975098f06"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#1b7330939e90ec05c9f46c0b3b58a117">compile_flush_generated_code_block</a> (Byte *, size_t)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Code has been generated by writing it to memory.  <a href="#1b7330939e90ec05c9f46c0b3b58a117"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#28a27071be98e262f08327b12ad225d4">compile_flush_generated_code</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">JIT_Result&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#edcfeafd141c6102ba66bb6657e227bd">compile_do_compilation_jit</a> (<a class="el" href="struct_method.html">Method</a> *<a class="el" href="jvmti__types_8h.html#03510b7e66271c729c629f2342b44c82">method</a>, JIT *jit)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Execution manager uses this method to call back to VM to compile a method using a specific JIT.  <a href="#edcfeafd141c6102ba66bb6657e227bd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="stack__walker_8h.html#88b916762a6ba313e8d6ab071a542ccf">NativeCodePtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#51a8ef8e678aa3215cbad67e5d3d7ebc">compile_gen_compile_me</a> (<a class="el" href="struct_method.html">Method_Handle</a> <a class="el" href="jvmti__types_8h.html#03510b7e66271c729c629f2342b44c82">method</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Generate a stub in JIT calling convention to pass call <a class="el" href="compile_8h.html#287f0caf9e661f8e9b544a448b9de5a7" title="A function to call on the first method invocation.">compile_me()</a> on the first method invocation.  <a href="#51a8ef8e678aa3215cbad67e5d3d7ebc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="stack__walker_8h.html#88b916762a6ba313e8d6ab071a542ccf">NativeCodePtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#287f0caf9e661f8e9b544a448b9de5a7">compile_me</a> (<a class="el" href="struct_method.html">Method</a> *<a class="el" href="jvmti__types_8h.html#03510b7e66271c729c629f2342b44c82">method</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A function to call on the first method invocation.  <a href="#287f0caf9e661f8e9b544a448b9de5a7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#059d26947bca81697a091667d3d4cc48">patch_code_with_threads_suspended</a> (Byte *code_block, Byte *new_code, size_t <a class="el" href="jvmti__types_8h.html#3d3621eb57d320cce49279c6c1d59656">size</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_global___env.html">Global_Env</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#095968384101886fdeb5b9f14ca99dfb">compile_handle_to_environment</a> (Compile_Handle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="stack__walker_8h.html#88b916762a6ba313e8d6ab071a542ccf">NativeCodePtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#f0ffb425ba35ef02746b390fcb6bf544">compile_create_lil_jni_stub</a> (<a class="el" href="struct_method.html">Method_Handle</a> <a class="el" href="jvmti__types_8h.html#03510b7e66271c729c629f2342b44c82">method</a>, void *func, <a class="el" href="vm__core__types_8h.html#2c686d7ae5f1f913e9e6078c45bef501">NativeStubOverride</a> nso)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a <code>LIL</code> stub for JNI interfacing.  <a href="#f0ffb425ba35ef02746b390fcb6bf544"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="stack__walker_8h.html#88b916762a6ba313e8d6ab071a542ccf">NativeCodePtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#9e7c90f151dc74d86453ba81253c3b4d">interpreter_compile_create_lil_jni_stub</a> (<a class="el" href="struct_method.html">Method_Handle</a> <a class="el" href="jvmti__types_8h.html#03510b7e66271c729c629f2342b44c82">method</a>, void *func, <a class="el" href="vm__core__types_8h.html#2c686d7ae5f1f913e9e6078c45bef501">NativeStubOverride</a> nso)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a <code>LIL</code> stub for JNI interfacing.  <a href="#9e7c90f151dc74d86453ba81253c3b4d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="stack__walker_8h.html#88b916762a6ba313e8d6ab071a542ccf">NativeCodePtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#f191ae2c25a64ba6ef1463b781bbaa9d">compile_create_lil_pinvoke_stub</a> (<a class="el" href="struct_method.html">Method_Handle</a> <a class="el" href="jvmti__types_8h.html#03510b7e66271c729c629f2342b44c82">method</a>, void *func, <a class="el" href="vm__core__types_8h.html#2c686d7ae5f1f913e9e6078c45bef501">NativeStubOverride</a> nso)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a <code>LIL</code> stub for <code>PINVOKE</code> interfacing.  <a href="#f191ae2c25a64ba6ef1463b781bbaa9d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#670fbf5225f445f3c514f56a8e7de22e">needs_override</a> (<a class="el" href="struct_method.html">Method</a> *)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="stack__walker_8h.html#88b916762a6ba313e8d6ab071a542ccf">NativeCodePtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#424bceeeefa8a31c17909069ffe7b593">compile_do_instrumentation</a> (<a class="el" href="class_code_chunk_info.html">CodeChunkInfo</a> *callee, <a class="el" href="compile_8h.html#ce9c6e867d89c2fb7cb9213915a9b2f4">MethodInstrumentationProc</a> instr_proc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interpose on calls to the specified method by calling the <code>instr_proc</code>.  <a href="#424bceeeefa8a31c17909069ffe7b593"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#4ba1847e3e28e5084909323b49fd6bfb">count_method_calls</a> (<a class="el" href="class_code_chunk_info.html">CodeChunkInfo</a> *callee)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A <code>MethodInstrumentationProc</code> that records the number of calls from the caller code chunk to the callee.  <a href="#4ba1847e3e28e5084909323b49fd6bfb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_dynamic_code.html">DynamicCode</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#0f23f09a08a94cf87b066e789fe18c05">compile_get_dynamic_code_list</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adding dynamic generated code info to global list.  <a href="#0f23f09a08a94cf87b066e789fe18c05"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#d122383b17a92bf21dee429bb91c7041">compile_add_dynamic_generated_code_chunk</a> (const char *<a class="el" href="jvmti__types_8h.html#f35794c5a3717fe860d6a053f96e29f9">name</a>, bool free_name, const void *<a class="el" href="jvmti__types_8h.html#fab31af2c2005ed57cefa0380aa83d80">address</a>, size_t <a class="el" href="jvmti__types_8h.html#1ee8a4cdc2176352791e9feef77e1fd5">length</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adding dynamic generated code info to global list.  <a href="#d122383b17a92bf21dee429bb91c7041"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#653608d054e3a7616a063246580f4ac1">compile_clear_dynamic_code_list</a> (<a class="el" href="struct_dynamic_code.html">DynamicCode</a> *list)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="compile_8h.html#ba7f13a642ea6b81f3652ac33201f2cb">VM_Code_Type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#cb1c997b0fadd2a48466bafb6f88c3fe">vm_identify_eip</a> (void *addr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Quick inline to call <a class="el" href="class_e_m.html" title="Mikhail Y.">EM</a> lookup and find a compiled method type.  <a href="#cb1c997b0fadd2a48466bafb6f88c3fe"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">JIT *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#06b9318e59b81275740f2eb89213c0ab">jit_compilers</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_stub___override___entry.html">Stub_Override_Entry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#3156b78516a16b037be8279a1f3fb227">stub_override_entries</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Points to an an array of override entries with <code>sizeof_stub_override_entries</code> entries.  <a href="#3156b78516a16b037be8279a1f3fb227"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="compile_8h.html#45da54027b7aeafed73d84cb02aee9ee">sizeof_stub_override_entries</a></td></tr>

</table>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="cc25949ff2b8aa5e51341a771e6368b8"></a><!-- doxytag: member="compile.h::Emitter_Handle" ref="cc25949ff2b8aa5e51341a771e6368b8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef char* <a class="el" href="compile_8h.html#cc25949ff2b8aa5e51341a771e6368b8">Emitter_Handle</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="61321d53824416a9d7f4719336ff188e"></a><!-- doxytag: member="compile.h::Override_Generator" ref="61321d53824416a9d7f4719336ff188e" args=")(Emitter_Handle, Method *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void( <a class="el" href="compile_8h.html#61321d53824416a9d7f4719336ff188e">Override_Generator</a>)(<a class="el" href="compile_8h.html#cc25949ff2b8aa5e51341a771e6368b8">Emitter_Handle</a>, <a class="el" href="struct_method.html">Method</a> *)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Support for stub override code sequences. 
<p>

</div>
</div><p>
<a class="anchor" name="c9441179552073b48a7eed69ebaa1389"></a><!-- doxytag: member="compile.h::Override_Size" ref="c9441179552073b48a7eed69ebaa1389" args=")(Method *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef unsigned( <a class="el" href="compile_8h.html#c9441179552073b48a7eed69ebaa1389">Override_Size</a>)(<a class="el" href="struct_method.html">Method</a> *)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="ce9c6e867d89c2fb7cb9213915a9b2f4"></a><!-- doxytag: member="compile.h::MethodInstrumentationProc" ref="ce9c6e867d89c2fb7cb9213915a9b2f4" args="(CodeChunkInfo *callee)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(*) <a class="el" href="compile_8h.html#ce9c6e867d89c2fb7cb9213915a9b2f4">MethodInstrumentationProc</a>(<a class="el" href="class_code_chunk_info.html">CodeChunkInfo</a> *callee)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<a class="el" href="struct_method.html">Method</a> instrumentation support. 
<p>
Type of the instrumentation procedures called before invoking methods. 
</div>
</div><p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="ba7f13a642ea6b81f3652ac33201f2cb"></a><!-- doxytag: member="compile.h::VM_Code_Type" ref="ba7f13a642ea6b81f3652ac33201f2cb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="compile_8h.html#ba7f13a642ea6b81f3652ac33201f2cb">VM_Code_Type</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="ba7f13a642ea6b81f3652ac33201f2cb0408776912f6e2fcfad3d6eadc40c867"></a><!-- doxytag: member="VM_TYPE_JAVA" ref="ba7f13a642ea6b81f3652ac33201f2cb0408776912f6e2fcfad3d6eadc40c867" args="" -->VM_TYPE_JAVA</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="ba7f13a642ea6b81f3652ac33201f2cbbab1aee4cdb52ad6c1ab6c3020291250"></a><!-- doxytag: member="VM_TYPE_UNKNOWN" ref="ba7f13a642ea6b81f3652ac33201f2cbbab1aee4cdb52ad6c1ab6c3020291250" args="" -->VM_TYPE_UNKNOWN</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="0a39c1ed840a0935160a0167b744e4cb"></a><!-- doxytag: member="compile.h::vm_add_jit" ref="0a39c1ed840a0935160a0167b744e4cb" args="(JIT *jit)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vm_add_jit           </td>
          <td>(</td>
          <td class="paramtype">JIT *&nbsp;</td>
          <td class="paramname"> <em>jit</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="31255888acca2759949deb6cce933055"></a><!-- doxytag: member="compile.h::vm_delete_all_jits" ref="31255888acca2759949deb6cce933055" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vm_delete_all_jits           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="5b7ce7ac9b8bc045b892166975098f06"></a><!-- doxytag: member="compile.h::compile_protect_arguments" ref="5b7ce7ac9b8bc045b892166975098f06" args="(Method_Handle method, GcFrame *gc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void compile_protect_arguments           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_method.html">Method_Handle</a>&nbsp;</td>
          <td class="paramname"> <em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_gc_frame.html">GcFrame</a> *&nbsp;</td>
          <td class="paramname"> <em>gc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Protect arguments from GC. 
<p>
The arguments are those passed to the last <code>M2nFrame</code>. The given method's signature describes what arguments were passed. 
</div>
</div><p>
<a class="anchor" name="1b7330939e90ec05c9f46c0b3b58a117"></a><!-- doxytag: member="compile.h::compile_flush_generated_code_block" ref="1b7330939e90ec05c9f46c0b3b58a117" args="(Byte *, size_t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void compile_flush_generated_code_block           </td>
          <td>(</td>
          <td class="paramtype">Byte *&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Code has been generated by writing it to memory. 
<p>
Ensure that it is visible to all instruction fetchers. The first function flushes a particular block of code, another should be called after all blocks are flushed. 
</div>
</div><p>
<a class="anchor" name="28a27071be98e262f08327b12ad225d4"></a><!-- doxytag: member="compile.h::compile_flush_generated_code" ref="28a27071be98e262f08327b12ad225d4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void compile_flush_generated_code           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="edcfeafd141c6102ba66bb6657e227bd"></a><!-- doxytag: member="compile.h::compile_do_compilation_jit" ref="edcfeafd141c6102ba66bb6657e227bd" args="(Method *method, JIT *jit)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JIT_Result compile_do_compilation_jit           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_method.html">Method</a> *&nbsp;</td>
          <td class="paramname"> <em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">JIT *&nbsp;</td>
          <td class="paramname"> <em>jit</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Execution manager uses this method to call back to VM to compile a method using a specific JIT. 
<p>

</div>
</div><p>
<a class="anchor" name="51a8ef8e678aa3215cbad67e5d3d7ebc"></a><!-- doxytag: member="compile.h::compile_gen_compile_me" ref="51a8ef8e678aa3215cbad67e5d3d7ebc" args="(Method_Handle method)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stack__walker_8h.html#88b916762a6ba313e8d6ab071a542ccf">NativeCodePtr</a> compile_gen_compile_me           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_method.html">Method_Handle</a>&nbsp;</td>
          <td class="paramname"> <em>method</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Generate a stub in JIT calling convention to pass call <a class="el" href="compile_8h.html#287f0caf9e661f8e9b544a448b9de5a7" title="A function to call on the first method invocation.">compile_me()</a> on the first method invocation. 
<p>

</div>
</div><p>
<a class="anchor" name="287f0caf9e661f8e9b544a448b9de5a7"></a><!-- doxytag: member="compile.h::compile_me" ref="287f0caf9e661f8e9b544a448b9de5a7" args="(Method *method)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stack__walker_8h.html#88b916762a6ba313e8d6ab071a542ccf">NativeCodePtr</a> compile_me           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_method.html">Method</a> *&nbsp;</td>
          <td class="paramname"> <em>method</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A function to call on the first method invocation. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>an entry point of successfully compiled method </dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>an</em>&nbsp;</td><td>exception otherwise </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="059d26947bca81697a091667d3d4cc48"></a><!-- doxytag: member="compile.h::patch_code_with_threads_suspended" ref="059d26947bca81697a091667d3d4cc48" args="(Byte *code_block, Byte *new_code, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void patch_code_with_threads_suspended           </td>
          <td>(</td>
          <td class="paramtype">Byte *&nbsp;</td>
          <td class="paramname"> <em>code_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Byte *&nbsp;</td>
          <td class="paramname"> <em>new_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="095968384101886fdeb5b9f14ca99dfb"></a><!-- doxytag: member="compile.h::compile_handle_to_environment" ref="095968384101886fdeb5b9f14ca99dfb" args="(Compile_Handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_global___env.html">Global_Env</a>* compile_handle_to_environment           </td>
          <td>(</td>
          <td class="paramtype">Compile_Handle&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="f0ffb425ba35ef02746b390fcb6bf544"></a><!-- doxytag: member="compile.h::compile_create_lil_jni_stub" ref="f0ffb425ba35ef02746b390fcb6bf544" args="(Method_Handle method, void *func, NativeStubOverride nso)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stack__walker_8h.html#88b916762a6ba313e8d6ab071a542ccf">NativeCodePtr</a> compile_create_lil_jni_stub           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_method.html">Method_Handle</a>&nbsp;</td>
          <td class="paramname"> <em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vm__core__types_8h.html#2c686d7ae5f1f913e9e6078c45bef501">NativeStubOverride</a>&nbsp;</td>
          <td class="paramname"> <em>nso</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a <code>LIL</code> stub for JNI interfacing. 
<p>

</div>
</div><p>
<a class="anchor" name="9e7c90f151dc74d86453ba81253c3b4d"></a><!-- doxytag: member="compile.h::interpreter_compile_create_lil_jni_stub" ref="9e7c90f151dc74d86453ba81253c3b4d" args="(Method_Handle method, void *func, NativeStubOverride nso)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stack__walker_8h.html#88b916762a6ba313e8d6ab071a542ccf">NativeCodePtr</a> interpreter_compile_create_lil_jni_stub           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_method.html">Method_Handle</a>&nbsp;</td>
          <td class="paramname"> <em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vm__core__types_8h.html#2c686d7ae5f1f913e9e6078c45bef501">NativeStubOverride</a>&nbsp;</td>
          <td class="paramname"> <em>nso</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a <code>LIL</code> stub for JNI interfacing. 
<p>

</div>
</div><p>
<a class="anchor" name="f191ae2c25a64ba6ef1463b781bbaa9d"></a><!-- doxytag: member="compile.h::compile_create_lil_pinvoke_stub" ref="f191ae2c25a64ba6ef1463b781bbaa9d" args="(Method_Handle method, void *func, NativeStubOverride nso)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stack__walker_8h.html#88b916762a6ba313e8d6ab071a542ccf">NativeCodePtr</a> compile_create_lil_pinvoke_stub           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_method.html">Method_Handle</a>&nbsp;</td>
          <td class="paramname"> <em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vm__core__types_8h.html#2c686d7ae5f1f913e9e6078c45bef501">NativeStubOverride</a>&nbsp;</td>
          <td class="paramname"> <em>nso</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a <code>LIL</code> stub for <code>PINVOKE</code> interfacing. 
<p>

</div>
</div><p>
<a class="anchor" name="670fbf5225f445f3c514f56a8e7de22e"></a><!-- doxytag: member="compile.h::needs_override" ref="670fbf5225f445f3c514f56a8e7de22e" args="(Method *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool needs_override           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_method.html">Method</a> *&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="424bceeeefa8a31c17909069ffe7b593"></a><!-- doxytag: member="compile.h::compile_do_instrumentation" ref="424bceeeefa8a31c17909069ffe7b593" args="(CodeChunkInfo *callee, MethodInstrumentationProc instr_proc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stack__walker_8h.html#88b916762a6ba313e8d6ab071a542ccf">NativeCodePtr</a> compile_do_instrumentation           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_code_chunk_info.html">CodeChunkInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>callee</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compile_8h.html#ce9c6e867d89c2fb7cb9213915a9b2f4">MethodInstrumentationProc</a>&nbsp;</td>
          <td class="paramname"> <em>instr_proc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Interpose on calls to the specified method by calling the <code>instr_proc</code>. 
<p>

</div>
</div><p>
<a class="anchor" name="4ba1847e3e28e5084909323b49fd6bfb"></a><!-- doxytag: member="compile.h::count_method_calls" ref="4ba1847e3e28e5084909323b49fd6bfb" args="(CodeChunkInfo *callee)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void count_method_calls           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_code_chunk_info.html">CodeChunkInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>callee</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A <code>MethodInstrumentationProc</code> that records the number of calls from the caller code chunk to the callee. 
<p>

</div>
</div><p>
<a class="anchor" name="0f23f09a08a94cf87b066e789fe18c05"></a><!-- doxytag: member="compile.h::compile_get_dynamic_code_list" ref="0f23f09a08a94cf87b066e789fe18c05" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_dynamic_code.html">DynamicCode</a>* compile_get_dynamic_code_list           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adding dynamic generated code info to global list. 
<p>
Is used in JVMTI and native frames interface 
</div>
</div><p>
<a class="anchor" name="d122383b17a92bf21dee429bb91c7041"></a><!-- doxytag: member="compile.h::compile_add_dynamic_generated_code_chunk" ref="d122383b17a92bf21dee429bb91c7041" args="(const char *name, bool free_name, const void *address, size_t length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void compile_add_dynamic_generated_code_chunk           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>free_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>length</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adding dynamic generated code info to global list. 
<p>

</div>
</div><p>
<a class="anchor" name="653608d054e3a7616a063246580f4ac1"></a><!-- doxytag: member="compile.h::compile_clear_dynamic_code_list" ref="653608d054e3a7616a063246580f4ac1" args="(DynamicCode *list)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void compile_clear_dynamic_code_list           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_dynamic_code.html">DynamicCode</a> *&nbsp;</td>
          <td class="paramname"> <em>list</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="cb1c997b0fadd2a48466bafb6f88c3fe"></a><!-- doxytag: member="compile.h::vm_identify_eip" ref="cb1c997b0fadd2a48466bafb6f88c3fe" args="(void *addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="compile_8h.html#ba7f13a642ea6b81f3652ac33201f2cb">VM_Code_Type</a> vm_identify_eip           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>addr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Quick inline to call <a class="el" href="class_e_m.html" title="Mikhail Y.">EM</a> lookup and find a compiled method type. 
<p>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="06b9318e59b81275740f2eb89213c0ab"></a><!-- doxytag: member="compile.h::jit_compilers" ref="06b9318e59b81275740f2eb89213c0ab" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JIT* <a class="el" href="compile_8h.html#06b9318e59b81275740f2eb89213c0ab">jit_compilers</a>[]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="3156b78516a16b037be8279a1f3fb227"></a><!-- doxytag: member="compile.h::stub_override_entries" ref="3156b78516a16b037be8279a1f3fb227" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_stub___override___entry.html">Stub_Override_Entry</a>* <a class="el" href="compile_8h.html#3156b78516a16b037be8279a1f3fb227">stub_override_entries</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Points to an an array of override entries with <code>sizeof_stub_override_entries</code> entries. 
<p>

</div>
</div><p>
<a class="anchor" name="45da54027b7aeafed73d84cb02aee9ee"></a><!-- doxytag: member="compile.h::sizeof_stub_override_entries" ref="45da54027b7aeafed73d84cb02aee9ee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="compile_8h.html#45da54027b7aeafed73d84cb02aee9ee">sizeof_stub_override_entries</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr size="1">
<address style="text-align: center;">
  <small>
    <p>Genereated on Tue Mar 11 19:25:56 2008 by Doxygen.</p>
    <p>(c) Copyright 2005, 2008 The Apache Software Foundation or its licensors, as applicable. </p>
  </small>
</address>
</body>
</html>
