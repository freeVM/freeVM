<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Generational Garbage Collector: collector.h File Reference</title>
<link href="hydoxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul>
</div>
<h1>collector.h File Reference</h1>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_collector.html">Collector</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="collector_8h.html#f8ba6934ca220e1ce3077fa01bf82c3d">NORMAL_SIZE_SEGMENT_GRANULARITY_BITS</a>&nbsp;&nbsp;&nbsp;8</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="collector_8h.html#2782ded064c6b71978648a36782f1630">NORMAL_SIZE_SEGMENT_GRANULARITY</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; NORMAL_SIZE_SEGMENT_GRANULARITY_BITS)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="collector_8h.html#9462f0790fc445ed05621b18d096c8b9">NORMAL_SIZE_SEGMENT_NUM</a>&nbsp;&nbsp;&nbsp;(GC_OBJ_SIZE_THRESHOLD / NORMAL_SIZE_SEGMENT_GRANULARITY)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="collector_8h.html#eb012aaf00edab03ebd28c531161cb28">SIZE_TO_SEGMENT_INDEX</a>(size)&nbsp;&nbsp;&nbsp;((((size) + NORMAL_SIZE_SEGMENT_GRANULARITY-1) &gt;&gt; NORMAL_SIZE_SEGMENT_GRANULARITY_BITS) - 1)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="collector_8h.html#161c42848ed440cf1778c0a85db3fff1">SEGMENT_INDEX_TO_SIZE</a>(index)&nbsp;&nbsp;&nbsp;(((index)+1) &lt;&lt; NORMAL_SIZE_SEGMENT_GRANULARITY_BITS)</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="collector_8h.html#0d33d35d9365bb3d736274357babb493">collector_destruct</a> (<a class="el" href="struct_g_c.html">GC</a> *gc)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="collector_8h.html#855718e6da35e83e255e6896b1d73b94">collector_initialize</a> (<a class="el" href="struct_g_c.html">GC</a> *gc)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="collector_8h.html#b4d7f36d7bc90ed984b8374302a48a58">collector_reset</a> (<a class="el" href="struct_g_c.html">GC</a> *gc)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="collector_8h.html#0f71b7a573ea1694319c4c83615a3233">collector_execute_task</a> (<a class="el" href="struct_g_c.html">GC</a> *gc, <a class="el" href="gc__common_8h.html#17d004f79b90c28b7e5186bd663e4527">TaskType</a> task_func, Space *space)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="collector_8h.html#e95f3dba33ee96d49152bb9cfba857f4">collector_execute_task_concurrent</a> (<a class="el" href="struct_g_c.html">GC</a> *gc, <a class="el" href="gc__common_8h.html#17d004f79b90c28b7e5186bd663e4527">TaskType</a> task_func, Space *space, unsigned int num_collectors)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="collector_8h.html#1c2748f9fbab822d6bd719a354b658b2">collector_release_weakref_sets</a> (<a class="el" href="struct_g_c.html">GC</a> *gc, unsigned int num_collectors)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="collector_8h.html#ccacb67e5befb582a692c96cb83e5366">collector_restore_obj_info</a> (<a class="el" href="struct_collector.html">Collector</a> *collector)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="collector_8h.html#0320597d9e1cdfbbcbc12696695bae25">gc_gen_hook_for_collector_init</a> (<a class="el" href="struct_collector.html">Collector</a> *collector)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">Boolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="collector_8h.html#e2e639b99ba829936d5b5f0014f1ca39">is_collector_finished</a> (<a class="el" href="struct_g_c.html">GC</a> *gc)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="collector_8h.html#420375904657239951582a08a7680297">wait_collection_finish</a> (<a class="el" href="struct_g_c.html">GC</a> *gc)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">Boolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="collector_8h.html#9373156326863f56642fbd9a78a6c803">gc_collection_result</a> (<a class="el" href="struct_g_c.html">GC</a> *gc)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="collector_8h.html#d012569ca6106240b574a4c58ce34d0a">gc_reset_collect_result</a> (<a class="el" href="struct_g_c.html">GC</a> *gc)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Boolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="collector_8h.html#af106ee9f571ccba9c784173dc9d9df9">is_collector_local_alloc</a></td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="f8ba6934ca220e1ce3077fa01bf82c3d"></a><!-- doxytag: member="collector.h::NORMAL_SIZE_SEGMENT_GRANULARITY_BITS" ref="f8ba6934ca220e1ce3077fa01bf82c3d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NORMAL_SIZE_SEGMENT_GRANULARITY_BITS&nbsp;&nbsp;&nbsp;8          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="2782ded064c6b71978648a36782f1630"></a><!-- doxytag: member="collector.h::NORMAL_SIZE_SEGMENT_GRANULARITY" ref="2782ded064c6b71978648a36782f1630" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NORMAL_SIZE_SEGMENT_GRANULARITY&nbsp;&nbsp;&nbsp;(1 &lt;&lt; NORMAL_SIZE_SEGMENT_GRANULARITY_BITS)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="9462f0790fc445ed05621b18d096c8b9"></a><!-- doxytag: member="collector.h::NORMAL_SIZE_SEGMENT_NUM" ref="9462f0790fc445ed05621b18d096c8b9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NORMAL_SIZE_SEGMENT_NUM&nbsp;&nbsp;&nbsp;(GC_OBJ_SIZE_THRESHOLD / NORMAL_SIZE_SEGMENT_GRANULARITY)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="eb012aaf00edab03ebd28c531161cb28"></a><!-- doxytag: member="collector.h::SIZE_TO_SEGMENT_INDEX" ref="eb012aaf00edab03ebd28c531161cb28" args="(size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SIZE_TO_SEGMENT_INDEX          </td>
          <td>(</td>
          <td class="paramtype">size&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;((((size) + NORMAL_SIZE_SEGMENT_GRANULARITY-1) &gt;&gt; NORMAL_SIZE_SEGMENT_GRANULARITY_BITS) - 1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="161c42848ed440cf1778c0a85db3fff1"></a><!-- doxytag: member="collector.h::SEGMENT_INDEX_TO_SIZE" ref="161c42848ed440cf1778c0a85db3fff1" args="(index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEGMENT_INDEX_TO_SIZE          </td>
          <td>(</td>
          <td class="paramtype">index&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;(((index)+1) &lt;&lt; NORMAL_SIZE_SEGMENT_GRANULARITY_BITS)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="0d33d35d9365bb3d736274357babb493"></a><!-- doxytag: member="collector.h::collector_destruct" ref="0d33d35d9365bb3d736274357babb493" args="(GC *gc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void collector_destruct           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_g_c.html">GC</a> *&nbsp;</td>
          <td class="paramname"> <em>gc</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="855718e6da35e83e255e6896b1d73b94"></a><!-- doxytag: member="collector.h::collector_initialize" ref="855718e6da35e83e255e6896b1d73b94" args="(GC *gc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void collector_initialize           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_g_c.html">GC</a> *&nbsp;</td>
          <td class="paramname"> <em>gc</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="b4d7f36d7bc90ed984b8374302a48a58"></a><!-- doxytag: member="collector.h::collector_reset" ref="b4d7f36d7bc90ed984b8374302a48a58" args="(GC *gc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void collector_reset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_g_c.html">GC</a> *&nbsp;</td>
          <td class="paramname"> <em>gc</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="0f71b7a573ea1694319c4c83615a3233"></a><!-- doxytag: member="collector.h::collector_execute_task" ref="0f71b7a573ea1694319c4c83615a3233" args="(GC *gc, TaskType task_func, Space *space)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void collector_execute_task           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_g_c.html">GC</a> *&nbsp;</td>
          <td class="paramname"> <em>gc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gc__common_8h.html#17d004f79b90c28b7e5186bd663e4527">TaskType</a>&nbsp;</td>
          <td class="paramname"> <em>task_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Space *&nbsp;</td>
          <td class="paramname"> <em>space</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="e95f3dba33ee96d49152bb9cfba857f4"></a><!-- doxytag: member="collector.h::collector_execute_task_concurrent" ref="e95f3dba33ee96d49152bb9cfba857f4" args="(GC *gc, TaskType task_func, Space *space, unsigned int num_collectors)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void collector_execute_task_concurrent           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_g_c.html">GC</a> *&nbsp;</td>
          <td class="paramname"> <em>gc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gc__common_8h.html#17d004f79b90c28b7e5186bd663e4527">TaskType</a>&nbsp;</td>
          <td class="paramname"> <em>task_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Space *&nbsp;</td>
          <td class="paramname"> <em>space</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>num_collectors</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="1c2748f9fbab822d6bd719a354b658b2"></a><!-- doxytag: member="collector.h::collector_release_weakref_sets" ref="1c2748f9fbab822d6bd719a354b658b2" args="(GC *gc, unsigned int num_collectors)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void collector_release_weakref_sets           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_g_c.html">GC</a> *&nbsp;</td>
          <td class="paramname"> <em>gc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>num_collectors</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="ccacb67e5befb582a692c96cb83e5366"></a><!-- doxytag: member="collector.h::collector_restore_obj_info" ref="ccacb67e5befb582a692c96cb83e5366" args="(Collector *collector)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void collector_restore_obj_info           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_collector.html">Collector</a> *&nbsp;</td>
          <td class="paramname"> <em>collector</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="0320597d9e1cdfbbcbc12696695bae25"></a><!-- doxytag: member="collector.h::gc_gen_hook_for_collector_init" ref="0320597d9e1cdfbbcbc12696695bae25" args="(Collector *collector)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gc_gen_hook_for_collector_init           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_collector.html">Collector</a> *&nbsp;</td>
          <td class="paramname"> <em>collector</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="e2e639b99ba829936d5b5f0014f1ca39"></a><!-- doxytag: member="collector.h::is_collector_finished" ref="e2e639b99ba829936d5b5f0014f1ca39" args="(GC *gc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Boolean is_collector_finished           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_g_c.html">GC</a> *&nbsp;</td>
          <td class="paramname"> <em>gc</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="420375904657239951582a08a7680297"></a><!-- doxytag: member="collector.h::wait_collection_finish" ref="420375904657239951582a08a7680297" args="(GC *gc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wait_collection_finish           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_g_c.html">GC</a> *&nbsp;</td>
          <td class="paramname"> <em>gc</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="9373156326863f56642fbd9a78a6c803"></a><!-- doxytag: member="collector.h::gc_collection_result" ref="9373156326863f56642fbd9a78a6c803" args="(GC *gc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Boolean gc_collection_result           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_g_c.html">GC</a> *&nbsp;</td>
          <td class="paramname"> <em>gc</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="d012569ca6106240b574a4c58ce34d0a"></a><!-- doxytag: member="collector.h::gc_reset_collect_result" ref="d012569ca6106240b574a4c58ce34d0a" args="(GC *gc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gc_reset_collect_result           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_g_c.html">GC</a> *&nbsp;</td>
          <td class="paramname"> <em>gc</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="af106ee9f571ccba9c784173dc9d9df9"></a><!-- doxytag: member="collector.h::is_collector_local_alloc" ref="af106ee9f571ccba9c784173dc9d9df9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Boolean <a class="el" href="collector_8h.html#af106ee9f571ccba9c784173dc9d9df9">is_collector_local_alloc</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr size="1">
<address style="text-align: center;">
  <small>
    <p>Genereated on Tue Mar 11 19:25:33 2008 by Doxygen.</p>
    <p>(c) Copyright 2005, 2008 The Apache Software Foundation or its licensors, as applicable. </p>
  </small>
</address>
</body>
</html>
