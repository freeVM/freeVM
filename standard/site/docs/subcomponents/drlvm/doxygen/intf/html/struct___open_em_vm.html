<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Inter-component Interfaces: _OpenEmVm Struct Reference</title>
<link href="hydoxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Packages</span></a></li>
    <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul>
</div>
<h1>_OpenEmVm Struct Reference</h1><!-- doxytag: class="_OpenEmVm" --><code>#include &lt;em_vm.h&gt;</code>
<p>
<a href="struct___open_em_vm-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
The structure comprises all EM to VM interface methods. 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___open_em_vm.html#d2148221a5733cd65a71a2876bd1362e">ExecuteMethod</a> )(<a class="el" href="jni__types_8h.html#91d8a65fefade9d27c9f749e69f37c40">jmethodID</a> meth, <a class="el" href="unionjvalue.html">jvalue</a> *<a class="el" href="jvmti__types_8h.html#06acd51c84d74bb71d4ea693dafcfe7f">return_value</a>, <a class="el" href="unionjvalue.html">jvalue</a> *args)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Requests EM to execute the method.  <a href="#d2148221a5733cd65a71a2876bd1362e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="em_8h.html#15a76398d8f446341b33954c9adbb9e9">JIT_Result</a>(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___open_em_vm.html#7f1f89d351a1255dae17bc86e42be91c">CompileMethod</a> )(<a class="el" href="types_8h.html#66381b1c7f38273ba98e3c43f2ddf041">Method_Handle</a> method_handle)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Requests EM to start the compilation of the method.  <a href="#7f1f89d351a1255dae17bc86e42be91c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___open_em_vm.html#b8c6c53261d76072c0a35c8b48d5afe9">RegisterCodeChunk</a> )(<a class="el" href="types_8h.html#66381b1c7f38273ba98e3c43f2ddf041">Method_Handle</a> method_handle, void *<a class="el" href="jvmti__types_8h.html#88f11c6dce4ee2b39ae21c02b24c89b2">code_addr</a>, size_t <a class="el" href="jvmti__types_8h.html#3d3621eb57d320cce49279c6c1d59656">size</a>, void *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Registers a code chunk in EM for later possible lookup by IP in code.  <a href="#b8c6c53261d76072c0a35c8b48d5afe9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="types_8h.html#66381b1c7f38273ba98e3c43f2ddf041">Method_Handle</a>(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___open_em_vm.html#ad7d265cdd092deb3696d9fceda7e1f7">LookupCodeChunk</a> )(void *addr, Boolean is_ip_past, void **<a class="el" href="jvmti__types_8h.html#88f11c6dce4ee2b39ae21c02b24c89b2">code_addr</a>, size_t *<a class="el" href="jvmti__types_8h.html#3d3621eb57d320cce49279c6c1d59656">size</a>, void **data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lookup code chunk by IP.  <a href="#ad7d265cdd092deb3696d9fceda7e1f7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Boolean(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___open_em_vm.html#4adf082842dc7550169959a7a5b4bbd0">UnregisterCodeChunk</a> )(void *addr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes registered code chunk from the lookup table.  <a href="#4adf082842dc7550169959a7a5b4bbd0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___open_em_vm.html#8d0a7b1615bd773c399ce3869e2c2534">ProfilerThreadTimeout</a> )()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The method is used to callback EM from the profiler thread supported by VM on time-out.  <a href="#8d0a7b1615bd773c399ce3869e2c2534"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___open_em_vm.html#4f122d94b138c682a86925262cd3a4c5">ClassloaderUnloadingCallback</a> )(<a class="el" href="types_8h.html#d6f8b174af012b88ef9b7434977fe1d6">ClassLoaderHandle</a> class_handle)</td></tr>

</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="d2148221a5733cd65a71a2876bd1362e"></a><!-- doxytag: member="_OpenEmVm::ExecuteMethod" ref="d2148221a5733cd65a71a2876bd1362e" args=")(jmethodID meth, jvalue *return_value, jvalue *args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="struct___open_em_vm.html#d2148221a5733cd65a71a2876bd1362e">_OpenEmVm.ExecuteMethod</a>)(<a class="el" href="jni__types_8h.html#91d8a65fefade9d27c9f749e69f37c40">jmethodID</a> meth, <a class="el" href="unionjvalue.html">jvalue</a> *<a class="el" href="jvmti__types_8h.html#06acd51c84d74bb71d4ea693dafcfe7f">return_value</a>, <a class="el" href="unionjvalue.html">jvalue</a> *args)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Requests EM to execute the method. 
<p>
VM uses the given method to execute uncompiled methods. EM is responsible for selecting the appropriate execution engine and executing the method using the stub provided by the execution engine.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>meth</em>&nbsp;</td><td>- the method to execute </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>return_value</em>&nbsp;</td><td>- the place to store the return value of the method </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>args</em>&nbsp;</td><td>- the parameters to be passed to the method </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="7f1f89d351a1255dae17bc86e42be91c"></a><!-- doxytag: member="_OpenEmVm::CompileMethod" ref="7f1f89d351a1255dae17bc86e42be91c" args=")(Method_Handle method_handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="em_8h.html#15a76398d8f446341b33954c9adbb9e9">JIT_Result</a>(* <a class="el" href="struct___open_em_vm.html#7f1f89d351a1255dae17bc86e42be91c">_OpenEmVm.CompileMethod</a>)(<a class="el" href="types_8h.html#66381b1c7f38273ba98e3c43f2ddf041">Method_Handle</a> method_handle)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Requests EM to start the compilation of the method. 
<p>
VM or JIT method compilation stubs use the given method to ask EM to start the method compilation. EM is responsible for selecting JIT for the given method and passing the control under JIT and the specified method to VM.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>method_handle</em>&nbsp;</td><td>- the handle of the method to compile </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="b8c6c53261d76072c0a35c8b48d5afe9"></a><!-- doxytag: member="_OpenEmVm::RegisterCodeChunk" ref="b8c6c53261d76072c0a35c8b48d5afe9" args=")(Method_Handle method_handle, void *code_addr, size_t size, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="struct___open_em_vm.html#b8c6c53261d76072c0a35c8b48d5afe9">_OpenEmVm.RegisterCodeChunk</a>)(<a class="el" href="types_8h.html#66381b1c7f38273ba98e3c43f2ddf041">Method_Handle</a> method_handle, void *<a class="el" href="jvmti__types_8h.html#88f11c6dce4ee2b39ae21c02b24c89b2">code_addr</a>, size_t <a class="el" href="jvmti__types_8h.html#3d3621eb57d320cce49279c6c1d59656">size</a>, void *data)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Registers a code chunk in EM for later possible lookup by IP in code. 
<p>
EM implements method lookup by IP. All code chunks allocated by VM as responses for JIT helper call to method_allocate_code_block helper. To register a code chunk this function is called by VM.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>method_handler</em>&nbsp;</td><td>- the handler of the method that occupies this code chunk. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>code_addr</em>&nbsp;</td><td>- address of the code. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>size</em>&nbsp;</td><td>- size of the code chunk in bytes. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>data</em>&nbsp;</td><td>- pointer to additional data associated with code chunk, may be NULL if VM is not interested in storing any data. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ad7d265cdd092deb3696d9fceda7e1f7"></a><!-- doxytag: member="_OpenEmVm::LookupCodeChunk" ref="ad7d265cdd092deb3696d9fceda7e1f7" args=")(void *addr, Boolean is_ip_past, void **code_addr, size_t *size, void **data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#66381b1c7f38273ba98e3c43f2ddf041">Method_Handle</a>(* <a class="el" href="struct___open_em_vm.html#ad7d265cdd092deb3696d9fceda7e1f7">_OpenEmVm.LookupCodeChunk</a>)(void *addr, Boolean is_ip_past, void **<a class="el" href="jvmti__types_8h.html#88f11c6dce4ee2b39ae21c02b24c89b2">code_addr</a>, size_t *<a class="el" href="jvmti__types_8h.html#3d3621eb57d320cce49279c6c1d59656">size</a>, void **data)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Lookup code chunk by IP. 
<p>
Return code chunk registered by RegisterCodeChunk if <code>addr</code> pointer points inside of it.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>addr</em>&nbsp;</td><td>- IP address to use to lookup code chunk. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>is_ip_past</em>&nbsp;</td><td>- <code>TRUE</code> if IP points to an instruction after call, <code>FALSE</code> otherwise </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>code_addr</em>&nbsp;</td><td>- start address of found code chunk, if NULL, argument is not filled. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>size</em>&nbsp;</td><td>- size of found code chunk in bytes, if NULL, argument is not filled. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>data</em>&nbsp;</td><td>- additional data that was specified to store with code chunk. If NULL, argument is not filled. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the handle of the method that occupies found code chunk. NULL if no method is found. </dd></dl>

</div>
</div><p>
<a class="anchor" name="4adf082842dc7550169959a7a5b4bbd0"></a><!-- doxytag: member="_OpenEmVm::UnregisterCodeChunk" ref="4adf082842dc7550169959a7a5b4bbd0" args=")(void *addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Boolean(* <a class="el" href="struct___open_em_vm.html#4adf082842dc7550169959a7a5b4bbd0">_OpenEmVm.UnregisterCodeChunk</a>)(void *addr)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Removes registered code chunk from the lookup table. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>addr</em>&nbsp;</td><td>- Any IP address that points to the code region of the method. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><code>TRUE</code> if removal was successful, <code>FALSE</code> otherwise, e.g. if code chunk was not found. </dd></dl>

</div>
</div><p>
<a class="anchor" name="8d0a7b1615bd773c399ce3869e2c2534"></a><!-- doxytag: member="_OpenEmVm::ProfilerThreadTimeout" ref="8d0a7b1615bd773c399ce3869e2c2534" args=")()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="struct___open_em_vm.html#8d0a7b1615bd773c399ce3869e2c2534">_OpenEmVm.ProfilerThreadTimeout</a>)()          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The method is used to callback EM from the profiler thread supported by VM on time-out. 
<p>

</div>
</div><p>
<a class="anchor" name="4f122d94b138c682a86925262cd3a4c5"></a><!-- doxytag: member="_OpenEmVm::ClassloaderUnloadingCallback" ref="4f122d94b138c682a86925262cd3a4c5" args=")(ClassLoaderHandle class_handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="struct___open_em_vm.html#4f122d94b138c682a86925262cd3a4c5">_OpenEmVm.ClassloaderUnloadingCallback</a>)(<a class="el" href="types_8h.html#d6f8b174af012b88ef9b7434977fe1d6">ClassLoaderHandle</a> class_handle)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="em__vm_8h.html">em_vm.h</a></ul>
<hr size="1">
<address style="text-align: center;">
  <small>
    <p>Genereated on Tue Mar 11 19:25:25 2008 by Doxygen.</p>
    <p>(c) Copyright 2005, 2008 The Apache Software Foundation or its licensors, as applicable. </p>
  </small>
</address>
</body>
</html>
