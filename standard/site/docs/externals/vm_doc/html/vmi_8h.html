<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Harmony Class Library Porting: modules/luni/src/main/native/include/shared/vmi.h File Reference</title>
<link href="hydoxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.4 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<h1>modules/luni/src/main/native/include/shared/vmi.h File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
VM interface specification. 
<p>

<p>
<code>#include &quot;jni.h&quot;</code><br>
<code>#include &quot;<a class="el" href="hyport_8h.html">hyport.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="hyvmls_8h.html">hyvmls.h</a>&quot;</code><br>
<code>#include &quot;zipsup.h&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structVMInterfaceFunctions__.html">VMInterfaceFunctions_</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The VM interface function table.  <a href="structVMInterfaceFunctions__.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vmi_8h.html#8bcd9dca7cae8ee9fdf2dfa532cc0898">VMI_ACCESS_FROM_ENV</a>(env)&nbsp;&nbsp;&nbsp;<a class="el" href="structVMInterfaceFunctions__.html">VMInterface</a>* privateVMI = VMI_GetVMIFromJNIEnv(env)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convenience macros for acquiring a VMInterface.  <a href="#8bcd9dca7cae8ee9fdf2dfa532cc0898"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vmi_8h.html#2bd624cbade5ae1cbc2f70dea64e03b8">BOOTCLASSPATH_PROPERTY</a>&nbsp;&nbsp;&nbsp;&quot;org.apache.harmony.boot.class.path&quot;</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Name of the property holding bootclasspath string.  <a href="#2bd624cbade5ae1cbc2f70dea64e03b8"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <br>
<a class="el" href="structVMInterfaceFunctions__.html">VMInterfaceFunctions_</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vmi_8h.html#945edfc12a1e3166aba839134e6e3901">VMInterface</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The VM interface structure.  <a href="#945edfc12a1e3166aba839134e6e3901"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vmi_8h.html#4cc26d792039ec5f28b517bd47143ad2">vmiError</a> { <br>
&nbsp;&nbsp;<a class="el" href="vmi_8h.html#4cc26d792039ec5f28b517bd47143ad2265b27aec0d596faaeacd168309b0fd5">VMI_ERROR_NONE</a> =  0, 
<br>
&nbsp;&nbsp;<a class="el" href="vmi_8h.html#4cc26d792039ec5f28b517bd47143ad20dae37c3dd58da1cdac2143e8a50906d">VMI_ERROR_UNKNOWN</a> =  1, 
<br>
&nbsp;&nbsp;<a class="el" href="vmi_8h.html#4cc26d792039ec5f28b517bd47143ad2159e00014eb4971effe39797b86e8dd1">VMI_ERROR_UNIMPLEMENTED</a> =  2, 
<br>
&nbsp;&nbsp;<a class="el" href="vmi_8h.html#4cc26d792039ec5f28b517bd47143ad2bc66efc0af92fa0ef93e040d424f3bad">VMI_ERROR_UNSUPPORTED_VERSION</a> =  3, 
<br>
&nbsp;&nbsp;<a class="el" href="vmi_8h.html#4cc26d792039ec5f28b517bd47143ad2fd2543af3ba7cafcb7c550b71561130f">VMI_ERROR_OUT_OF_MEMORY</a> =  4, 
<br>
&nbsp;&nbsp;<a class="el" href="vmi_8h.html#4cc26d792039ec5f28b517bd47143ad2e46f3141c6b202d4ad3dfbb704b94cd0">VMI_ERROR_ILLEGAL_ARG</a> =  5, 
<br>
&nbsp;&nbsp;<a class="el" href="vmi_8h.html#4cc26d792039ec5f28b517bd47143ad29fcfee1283abc539e7f29567855cc105">VMI_ERROR_READ_ONLY</a> =  6
<br>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enumeration of all possible return codes from VM interface functions.  <a href="vmi_8h.html#4cc26d792039ec5f28b517bd47143ad2">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vmi_8h.html#976d44f638c8cc26da425e2eada706de">vmiVersion</a> { <br>
&nbsp;&nbsp;<a class="el" href="vmi_8h.html#976d44f638c8cc26da425e2eada706de406e2c373d865add6094ecf7833d0685">VMI_VERSION_UNKNOWN</a> =  0x00000000, 
<br>
&nbsp;&nbsp;<a class="el" href="vmi_8h.html#976d44f638c8cc26da425e2eada706de92a591e59cb27bf7069de024ac92503b">VMI_VERSION_1_0</a> =  0x00010000
<br>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">VM interface version identifier.  <a href="vmi_8h.html#976d44f638c8cc26da425e2eada706de">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structVMInterfaceFunctions__.html">VMInterface</a> *JNICALL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vmi_8h.html#fcf737d9dec215b6c3edc3fa87b04579">VMI_GetVMIFromJNIEnv</a> (JNIEnv *env)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Extract the VM interface from a JNIEnv.  <a href="#fcf737d9dec215b6c3edc3fa87b04579"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structVMInterfaceFunctions__.html">VMInterface</a> *JNICALL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vmi_8h.html#02ce5bf3edc696d4176a8cc7c38da108">VMI_GetVMIFromJavaVM</a> (JavaVM *vm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Extract the VM interface from a JNI JavaVM.  <a href="#02ce5bf3edc696d4176a8cc7c38da108"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="vmi_8h.html#4cc26d792039ec5f28b517bd47143ad2">vmiError</a> JNICALL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vmi_8h.html#ba6d90a8dfd683056e3edda3279c6cbd">CheckVersion</a> (<a class="el" href="structVMInterfaceFunctions__.html">VMInterface</a> *vmi, <a class="el" href="vmi_8h.html#976d44f638c8cc26da425e2eada706de">vmiVersion</a> *version)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check the version of the VM interface.  <a href="#ba6d90a8dfd683056e3edda3279c6cbd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="vmi_8h.html#4cc26d792039ec5f28b517bd47143ad2">vmiError</a> JNICALL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vmi_8h.html#d9c25134aa7b169aad2804ef2e018b01">GetSystemProperty</a> (<a class="el" href="structVMInterfaceFunctions__.html">VMInterface</a> *vmi, char *key, char **valuePtr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve the value of a VM system property.  <a href="#d9c25134aa7b169aad2804ef2e018b01"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="vmi_8h.html#4cc26d792039ec5f28b517bd47143ad2">vmiError</a> JNICALL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vmi_8h.html#91c66ccfe8c36a51e9b0de2f63cbd40a">SetSystemProperty</a> (<a class="el" href="structVMInterfaceFunctions__.html">VMInterface</a> *vmi, char *key, char *value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Override the value of a VM system property.  <a href="#91c66ccfe8c36a51e9b0de2f63cbd40a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="vmi_8h.html#4cc26d792039ec5f28b517bd47143ad2">vmiError</a> JNICALL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vmi_8h.html#845d1feaa562a978f7bef9b448b61349">CountSystemProperties</a> (<a class="el" href="structVMInterfaceFunctions__.html">VMInterface</a> *vmi, int *countPtr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the number of VM system properties.  <a href="#845d1feaa562a978f7bef9b448b61349"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="vmi_8h.html#4cc26d792039ec5f28b517bd47143ad2">vmiError</a> JNICALL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vmi_8h.html#3c76ac3c1d29c2b3be12cdf85a2eddcb">IterateSystemProperties</a> (<a class="el" href="structVMInterfaceFunctions__.html">VMInterface</a> *vmi, vmiSystemPropertyIterator iterator, void *userData)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Iterate over the VM system properties calling a function.  <a href="#3c76ac3c1d29c2b3be12cdf85a2eddcb"></a><br></td></tr>
</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="2bd624cbade5ae1cbc2f70dea64e03b8"></a><!-- doxytag: member="vmi.h::BOOTCLASSPATH_PROPERTY" ref="2bd624cbade5ae1cbc2f70dea64e03b8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BOOTCLASSPATH_PROPERTY&nbsp;&nbsp;&nbsp;&quot;org.apache.harmony.boot.class.path&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Name of the property holding bootclasspath string. 
<p>

</div>
</div><p>
<a class="anchor" name="8bcd9dca7cae8ee9fdf2dfa532cc0898"></a><!-- doxytag: member="vmi.h::VMI_ACCESS_FROM_ENV" ref="8bcd9dca7cae8ee9fdf2dfa532cc0898" args="(env)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VMI_ACCESS_FROM_ENV          </td>
          <td>(</td>
          <td class="paramtype">env&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;<a class="el" href="structVMInterfaceFunctions__.html">VMInterface</a>* privateVMI = VMI_GetVMIFromJNIEnv(env)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Convenience macros for acquiring a VMInterface. 
<p>

</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="945edfc12a1e3166aba839134e6e3901"></a><!-- doxytag: member="vmi.h::VMInterface" ref="945edfc12a1e3166aba839134e6e3901" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structVMInterfaceFunctions__.html">VMInterface</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The VM interface structure. 
<p>
Points to the <a class="el" href="structVMInterfaceFunctions__.html">VM interface function table</a>. Implementations will likely choose to store opaque data off this structure. 
</div>
</div><p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="4cc26d792039ec5f28b517bd47143ad2"></a><!-- doxytag: member="vmi.h::vmiError" ref="4cc26d792039ec5f28b517bd47143ad2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="vmi_8h.html#4cc26d792039ec5f28b517bd47143ad2">vmiError</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Enumeration of all possible return codes from VM interface functions. 
<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="4cc26d792039ec5f28b517bd47143ad2265b27aec0d596faaeacd168309b0fd5"></a><!-- doxytag: member="VMI_ERROR_NONE" ref="4cc26d792039ec5f28b517bd47143ad2265b27aec0d596faaeacd168309b0fd5" args="" -->VMI_ERROR_NONE</em>&nbsp;</td><td>
Success. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="4cc26d792039ec5f28b517bd47143ad20dae37c3dd58da1cdac2143e8a50906d"></a><!-- doxytag: member="VMI_ERROR_UNKNOWN" ref="4cc26d792039ec5f28b517bd47143ad20dae37c3dd58da1cdac2143e8a50906d" args="" -->VMI_ERROR_UNKNOWN</em>&nbsp;</td><td>
Unknown error. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="4cc26d792039ec5f28b517bd47143ad2159e00014eb4971effe39797b86e8dd1"></a><!-- doxytag: member="VMI_ERROR_UNIMPLEMENTED" ref="4cc26d792039ec5f28b517bd47143ad2159e00014eb4971effe39797b86e8dd1" args="" -->VMI_ERROR_UNIMPLEMENTED</em>&nbsp;</td><td>
Function has not been implemented. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="4cc26d792039ec5f28b517bd47143ad2bc66efc0af92fa0ef93e040d424f3bad"></a><!-- doxytag: member="VMI_ERROR_UNSUPPORTED_VERSION" ref="4cc26d792039ec5f28b517bd47143ad2bc66efc0af92fa0ef93e040d424f3bad" args="" -->VMI_ERROR_UNSUPPORTED_VERSION</em>&nbsp;</td><td>
The requested VM interface version is not supported. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="4cc26d792039ec5f28b517bd47143ad2fd2543af3ba7cafcb7c550b71561130f"></a><!-- doxytag: member="VMI_ERROR_OUT_OF_MEMORY" ref="4cc26d792039ec5f28b517bd47143ad2fd2543af3ba7cafcb7c550b71561130f" args="" -->VMI_ERROR_OUT_OF_MEMORY</em>&nbsp;</td><td>
Not enough memory was available to complete the request. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="4cc26d792039ec5f28b517bd47143ad2e46f3141c6b202d4ad3dfbb704b94cd0"></a><!-- doxytag: member="VMI_ERROR_ILLEGAL_ARG" ref="4cc26d792039ec5f28b517bd47143ad2e46f3141c6b202d4ad3dfbb704b94cd0" args="" -->VMI_ERROR_ILLEGAL_ARG</em>&nbsp;</td><td>
An attempt to set illegal value (e.g. 
<p>
NULL value is not allowed in system properties) </td></tr>
<tr><td valign="top"><em><a class="anchor" name="4cc26d792039ec5f28b517bd47143ad29fcfee1283abc539e7f29567855cc105"></a><!-- doxytag: member="VMI_ERROR_READ_ONLY" ref="4cc26d792039ec5f28b517bd47143ad29fcfee1283abc539e7f29567855cc105" args="" -->VMI_ERROR_READ_ONLY</em>&nbsp;</td><td>
An attempt was made to modify a read-only item. </td></tr>
</table>
</dl>

</div>
</div><p>
<a class="anchor" name="976d44f638c8cc26da425e2eada706de"></a><!-- doxytag: member="vmi.h::vmiVersion" ref="976d44f638c8cc26da425e2eada706de" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="vmi_8h.html#976d44f638c8cc26da425e2eada706de">vmiVersion</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
VM interface version identifier. 
<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="976d44f638c8cc26da425e2eada706de406e2c373d865add6094ecf7833d0685"></a><!-- doxytag: member="VMI_VERSION_UNKNOWN" ref="976d44f638c8cc26da425e2eada706de406e2c373d865add6094ecf7833d0685" args="" -->VMI_VERSION_UNKNOWN</em>&nbsp;</td><td>
Unknown VMInterface version. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="976d44f638c8cc26da425e2eada706de92a591e59cb27bf7069de024ac92503b"></a><!-- doxytag: member="VMI_VERSION_1_0" ref="976d44f638c8cc26da425e2eada706de92a591e59cb27bf7069de024ac92503b" args="" -->VMI_VERSION_1_0</em>&nbsp;</td><td>
VMInterface version 1.0. </td></tr>
</table>
</dl>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ba6d90a8dfd683056e3edda3279c6cbd"></a><!-- doxytag: member="vmi.h::CheckVersion" ref="ba6d90a8dfd683056e3edda3279c6cbd" args="(VMInterface *vmi, vmiVersion *version)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VMInterfaceFunctions_::CheckVersion           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVMInterfaceFunctions__.html">VMInterface</a> *&nbsp;</td>
          <td class="paramname"> <em>vmi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vmi_8h.html#976d44f638c8cc26da425e2eada706de">vmiVersion</a> *&nbsp;</td>
          <td class="paramname"> <em>version</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check the version of the VM interface. 
<p>
<div class="fragment"><pre class="fragment"> <a class="code" href="vmi_8h.html#4cc26d792039ec5f28b517bd47143ad2" title="Enumeration of all possible return codes from VM interface functions.">vmiError</a> JNICALL <a class="code" href="vmi_8h.html#ba6d90a8dfd683056e3edda3279c6cbd" title="Check the version of the VM interface.">CheckVersion</a>(<a class="code" href="structVMInterfaceFunctions__.html" title="The VM interface function table.">VMInterface</a>* vmi, <a class="code" href="vmi_8h.html#976d44f638c8cc26da425e2eada706de" title="VM interface version identifier.">vmiVersion</a>* version); 
</pre></div><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>vmi</em>&nbsp;</td><td>The VM interface pointer </td></tr>
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>version</em>&nbsp;</td><td>Pass in the version to check, or <a class="el" href="vmi_8h.html#976d44f638c8cc26da425e2eada706de406e2c373d865add6094ecf7833d0685">VMI_VERSION_UNKNOWN</a>. Returns the current version.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a <a class="el" href="vmi_8h.html#4cc26d792039ec5f28b517bd47143ad2">VMI error code</a></dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>The CheckVersion function allows a class library to verify that the VM provides the required interface functions. If the version requested is <a class="el" href="vmi_8h.html#976d44f638c8cc26da425e2eada706de406e2c373d865add6094ecf7833d0685">VMI_VERSION_UNKNOWN</a>, then the function will reply with the current version and not return an error. If a specific version is passed, it will be compatibility checked against the current, and <a class="el" href="vmi_8h.html#4cc26d792039ec5f28b517bd47143ad2bc66efc0af92fa0ef93e040d424f3bad">VMI_ERROR_UNSUPPORTED_VERSION</a> may be returned. </dd></dl>

</div>
</div><p>
<a class="anchor" name="845d1feaa562a978f7bef9b448b61349"></a><!-- doxytag: member="vmi.h::CountSystemProperties" ref="845d1feaa562a978f7bef9b448b61349" args="(VMInterface *vmi, int *countPtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VMInterfaceFunctions_::CountSystemProperties           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVMInterfaceFunctions__.html">VMInterface</a> *&nbsp;</td>
          <td class="paramname"> <em>vmi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>countPtr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the number of VM system properties. 
<p>
<div class="fragment"><pre class="fragment"> <a class="code" href="vmi_8h.html#4cc26d792039ec5f28b517bd47143ad2" title="Enumeration of all possible return codes from VM interface functions.">vmiError</a> JNICALL <a class="code" href="vmi_8h.html#845d1feaa562a978f7bef9b448b61349" title="Return the number of VM system properties.">CountSystemProperties</a>(<a class="code" href="structVMInterfaceFunctions__.html" title="The VM interface function table.">VMInterface</a>* vmi, <span class="keywordtype">int</span>* countPtr); 
</pre></div><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>vmi</em>&nbsp;</td><td>The VM interface pointer </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>countPtr</em>&nbsp;</td><td>The location to store the number of system properties</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a <a class="el" href="vmi_8h.html#4cc26d792039ec5f28b517bd47143ad2">VMI error code</a></dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>See <a class="el" href="vmi_8h.html#d9c25134aa7b169aad2804ef2e018b01" title="Retrieve the value of a VM system property.">GetSystemProperty()</a> for the list of properties that must be defined by the vm. </dd></dl>

</div>
</div><p>
<a class="anchor" name="d9c25134aa7b169aad2804ef2e018b01"></a><!-- doxytag: member="vmi.h::GetSystemProperty" ref="d9c25134aa7b169aad2804ef2e018b01" args="(VMInterface *vmi, char *key, char **valuePtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VMInterfaceFunctions_::GetSystemProperty           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVMInterfaceFunctions__.html">VMInterface</a> *&nbsp;</td>
          <td class="paramname"> <em>vmi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>valuePtr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Retrieve the value of a VM system property. 
<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>The returned string is owned by the VM, and should not be freed. </dd></dl>

</div>
</div><p>
<a class="anchor" name="3c76ac3c1d29c2b3be12cdf85a2eddcb"></a><!-- doxytag: member="vmi.h::IterateSystemProperties" ref="3c76ac3c1d29c2b3be12cdf85a2eddcb" args="(VMInterface *vmi, vmiSystemPropertyIterator iterator, void *userData)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VMInterfaceFunctions_::IterateSystemProperties           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVMInterfaceFunctions__.html">VMInterface</a> *&nbsp;</td>
          <td class="paramname"> <em>vmi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vmiSystemPropertyIterator&nbsp;</td>
          <td class="paramname"> <em>iterator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>userData</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Iterate over the VM system properties calling a function. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>vmi</em>&nbsp;</td><td>The VM interface pointer </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>iterator</em>&nbsp;</td><td>The iterator function to call with each property </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>userData</em>&nbsp;</td><td>Opaque data to pass to the iterator function</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a <a class="el" href="vmi_8h.html#4cc26d792039ec5f28b517bd47143ad2">VMI error code</a></dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>The returned strings are owned by the VM, and should not be freed.<p>
See <a class="el" href="vmi_8h.html#d9c25134aa7b169aad2804ef2e018b01" title="Retrieve the value of a VM system property.">GetSystemProperty()</a> for the list of properties that must be defined by the vm. </dd></dl>

</div>
</div><p>
<a class="anchor" name="91c66ccfe8c36a51e9b0de2f63cbd40a"></a><!-- doxytag: member="vmi.h::SetSystemProperty" ref="91c66ccfe8c36a51e9b0de2f63cbd40a" args="(VMInterface *vmi, char *key, char *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VMInterfaceFunctions_::SetSystemProperty           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVMInterfaceFunctions__.html">VMInterface</a> *&nbsp;</td>
          <td class="paramname"> <em>vmi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Override the value of a VM system property. 
<p>
<div class="fragment"><pre class="fragment"> <a class="code" href="vmi_8h.html#4cc26d792039ec5f28b517bd47143ad2" title="Enumeration of all possible return codes from VM interface functions.">vmiError</a> JNICALL <a class="code" href="vmi_8h.html#91c66ccfe8c36a51e9b0de2f63cbd40a" title="Override the value of a VM system property.">SetSystemProperty</a>(<a class="code" href="structVMInterfaceFunctions__.html" title="The VM interface function table.">VMInterface</a>* vmi, <span class="keywordtype">char</span>* key, <span class="keywordtype">char</span>* value); 
</pre></div><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>vmi</em>&nbsp;</td><td>The VM interface pointer </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>key</em>&nbsp;</td><td>The system property to override </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>value</em>&nbsp;</td><td>The value of the system property</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a <a class="el" href="vmi_8h.html#4cc26d792039ec5f28b517bd47143ad2">VMI error code</a></dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Only existing properties can be overridden. New properties cannot be added by this mechanism.<p>
See <a class="el" href="vmi_8h.html#d9c25134aa7b169aad2804ef2e018b01" title="Retrieve the value of a VM system property.">GetSystemProperty()</a> for the list of properties that must be defined by the vm. </dd></dl>

</div>
</div><p>
<a class="anchor" name="02ce5bf3edc696d4176a8cc7c38da108"></a><!-- doxytag: member="vmi.h::VMI_GetVMIFromJavaVM" ref="02ce5bf3edc696d4176a8cc7c38da108" args="(JavaVM *vm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structVMInterfaceFunctions__.html">VMInterface</a>* JNICALL VMI_GetVMIFromJavaVM           </td>
          <td>(</td>
          <td class="paramtype">JavaVM *&nbsp;</td>
          <td class="paramname"> <em>vm</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Extract the VM interface from a JNI JavaVM. 
<p>
Extract the VM interface from a JNI JavaVM.<p>
This stub implementation is non-functional, provided for the purposes of building the dependent natives. Extract the VM Interface from a JNI JavaVM<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>vm</em>&nbsp;</td><td>The JavaVM to query</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a VMInterface pointer </dd></dl>

</div>
</div><p>
<a class="anchor" name="fcf737d9dec215b6c3edc3fa87b04579"></a><!-- doxytag: member="vmi.h::VMI_GetVMIFromJNIEnv" ref="fcf737d9dec215b6c3edc3fa87b04579" args="(JNIEnv *env)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structVMInterfaceFunctions__.html">VMInterface</a>* JNICALL VMI_GetVMIFromJNIEnv           </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *&nbsp;</td>
          <td class="paramname"> <em>env</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Extract the VM interface from a JNIEnv. 
<p>
Extract the VM interface from a JNIEnv.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>env</em>&nbsp;</td><td>The JNIEnv to query</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a VMInterface pointer </dd></dl>

</div>
</div><p>
<hr size="1">
<address style="text-align: center;">
  <small>
    <p>Genereated on Tue Dec 9 14:12:59 2008 by Doxygen.</p>
    <p>(c) Copyright 2005, 2008 The Apache Software Foundation or its licensors, as applicable. </p>
  </small>
</address>
</body>
</html>
