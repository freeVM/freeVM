<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">






<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>View Sources</title>
    <link href="/struts2-showcase-2.0.6/styles/main.css" rel="stylesheet" type="text/css" media="all"/>
    <link href="/struts2-showcase-2.0.6/struts/niftycorners/niftyCorners.css" rel="stylesheet" type="text/css"/>
    <link href="/struts2-showcase-2.0.6/struts/niftycorners/niftyPrint.css" rel="stylesheet" type="text/css" media="print"/>

    <script language="JavaScript" type="text/javascript" src="/struts2-showcase-2.0.6/struts/niftycorners/nifty.js"></script>

    <script language="JavaScript" type="text/javascript">

        window.onload=function(){
            if(!NiftyCheck())
                return;
            Rounded("blockquote","tr bl","#ECF1F9","#CDFFAA","smooth border #88D84F");
            Rounded("div#outer-header", "all", "white", "#818EBD", "smooth border #434F7C");
            Rounded("div#footer", "all", "white", "#818EBD", "smooth border #434F7C");
        }

    </script>

    <!--// START SNIPPET: common-include-->
<link rel="stylesheet" href="/struts2-showcase-2.0.6/struts/xhtml/styles.css" type="text/css"/>
<script language="JavaScript" type="text/javascript">
    // Dojo configuration
    djConfig = {
        baseRelativePath: "/struts2-showcase-2.0.6/struts/dojo",
        isDebug: false,
        bindEncoding: "UTF-8",
        debugAtAllCosts: true // not needed, but allows the Venkman debugger to work with the includes
    };
</script>
<script language="JavaScript" type="text/javascript"
        src="/struts2-showcase-2.0.6/struts/dojo/dojo.js"></script>
<script language="JavaScript" type="text/javascript"
        src="/struts2-showcase-2.0.6/struts/simple/dojoRequire.js"></script>
<script language="JavaScript" type="text/javascript"
        src="/struts2-showcase-2.0.6/struts/ajax/dojoRequire.js"></script>
<script language="JavaScript" type="text/javascript"
        src="/struts2-showcase-2.0.6/struts/CommonFunctions.js"></script>

<!--// END SNIPPET: common-include-->

    <link rel="stylesheet" type="text/css" href="/struts2-showcase-2.0.6/struts/tabs.css?config=file%3A%2FC%3A%2Fmol%2Ftools%2Fjakarta-tomcat-5.0.30%2Fwebapps%2Fstruts2-showcase-2.0.6%2FWEB-INF%2Fclasses%2Fstruts-jsf.xml%3A28&amp;page=%2Fjsf%2Femployee%2Fnull&amp;className=org.apache.struts2.showcase.jsf.JsfEmployeeAction">
    <link rel="stylesheet" type="text/css" href="/struts2-showcase-2.0.6/struts/niftycorners/niftyCorners.css?config=file%3A%2FC%3A%2Fmol%2Ftools%2Fjakarta-tomcat-5.0.30%2Fwebapps%2Fstruts2-showcase-2.0.6%2FWEB-INF%2Fclasses%2Fstruts-jsf.xml%3A28&amp;page=%2Fjsf%2Femployee%2Fnull&amp;className=org.apache.struts2.showcase.jsf.JsfEmployeeAction">
    <link rel="stylesheet" type="text/css" href="/struts2-showcase-2.0.6/struts/niftycorners/niftyPrint.css?config=file%3A%2FC%3A%2Fmol%2Ftools%2Fjakarta-tomcat-5.0.30%2Fwebapps%2Fstruts2-showcase-2.0.6%2FWEB-INF%2Fclasses%2Fstruts-jsf.xml%3A28&amp;page=%2Fjsf%2Femployee%2Fnull&amp;className=org.apache.struts2.showcase.jsf.JsfEmployeeAction" media="print">
    <script type="text/javascript" src="/struts2-showcase-2.0.6/struts/niftycorners/nifty.js?config=file%3A%2FC%3A%2Fmol%2Ftools%2Fjakarta-tomcat-5.0.30%2Fwebapps%2Fstruts2-showcase-2.0.6%2FWEB-INF%2Fclasses%2Fstruts-jsf.xml%3A28&amp;page=%2Fjsf%2Femployee%2Fnull&amp;className=org.apache.struts2.showcase.jsf.JsfEmployeeAction"></script>
    <script type="text/javascript">
        window.onload = function() {
            if (!NiftyCheck())
                return;
            Rounded("li.tab_selected", "top", "white", "transparent", "border #ffffffS");
            Rounded("li.tab_unselected", "top", "white", "transparent", "border #ffffffS");
            //                Rounded("div#tab_header_main li","top","white","transparent","border #ffffffS");
            // "white" needs to be replaced with the background color
        }
    </script>
</head>

<body id="page-home">


<div id="page">
    <div id="outer-header">
        <div id="header" class="clearfix">
            <div id="branding">
                <h1 class="title">Struts Showcase</h1>
                
2007/04/06 03:18:43

            </div><!-- end branding -->

            <div id="search">
                <img src="/struts2-showcase-2.0.6/images/struts-power.gif" alt="Powered by Struts"/>
            </div><!-- end search -->

            <hr/>
        </div>
    </div><!-- end header -->

    <div id="content" class="clearfix">

        <h1>View Sources</h1>

<script type="text/javascript">
  dojo.require("dojo.widget.TabContainer");
  dojo.require("dojo.widget.LinkPane");
  dojo.require("dojo.widget.ContentPane");
</script>

<div dojoType="TabContainer"
      id="test"    doLayout="false">

	<div dojoType="struts:BindDiv"
    
  	id="one"    label="Page"    showError="true">

        <h3>/null</h3>
<pre>

</pre>
    </div>

    <div dojoType="struts:BindDiv"
    
  	id="two"    label="Configuration"    showError="true">

        <h3>file:/C:/mol/tools/jakarta-tomcat-5.0.30/webapps/struts2-showcase-2.0.6/WEB-INF/classes/struts-jsf.xml</h3>
<pre>


18: 
19:     &lt;default-interceptor-ref name=&quot;jsfFullStack&quot;/&gt;
20: 
21:   &lt;/package&gt;
22:   
23:   &lt;package name=&quot;jsf.employee&quot; extends=&quot;jsf&quot; namespace=&quot;/jsf/employee&quot;&gt;
24:   
25:     &lt;action name=&quot;list&quot; class=&quot;org.apache.struts2.showcase.jsf.JsfEmployeeAction&quot; method=&quot;list&quot;&gt;
26:       &lt;result name=&quot;success&quot; type=&quot;jsf&quot; /&gt;
27:     &lt;/action&gt;
<span style="background-color:yellow">28:     &lt;action name=&quot;edit&quot; class=&quot;org.apache.struts2.showcase.jsf.JsfEmployeeAction&quot;&gt;</span>
29:       &lt;result name=&quot;success&quot; type=&quot;jsf&quot; /&gt;
30:     &lt;/action&gt;
31:     &lt;action name=&quot;delete&quot; class=&quot;org.apache.struts2.showcase.action.EmployeeAction&quot; method=&quot;delete&quot;&gt;
32:       &lt;result name=&quot;error&quot; type=&quot;redirect&quot;&gt;list.action&lt;/result&gt;
33:       &lt;result type=&quot;redirect&quot;&gt;list.action&lt;/result&gt;
34:     &lt;/action&gt;
35:   
36:   &lt;/package&gt;
37: 
38: &lt;/struts&gt;
</pre>
    </div>

    <div dojoType="struts:BindDiv"
    
  	id="three"    label="Java Action"    showError="true">

        <h3>/org/apache/struts2/showcase/jsf/JsfEmployeeAction.java</h3>
<pre>

1: /*
2:  * $Id: JsfEmployeeAction.java 471756 2006-11-06 15:01:43Z husted $
3:  *
4:  * Licensed to the Apache Software Foundation (ASF) under one
5:  * or more contributor license agreements.  See the NOTICE file
6:  * distributed with this work for additional information
7:  * regarding copyright ownership.  The ASF licenses this file
8:  * to you under the Apache License, Version 2.0 (the
9:  * &quot;License&quot;); you may not use this file except in compliance
10:  * with the License.  You may obtain a copy of the License at
11:  *
12:  *  http://www.apache.org/licenses/LICENSE-2.0
13:  *
14:  * Unless required by applicable law or agreed to in writing,
15:  * software distributed under the License is distributed on an
16:  * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
17:  * KIND, either express or implied.  See the License for the
18:  * specific language governing permissions and limitations
19:  * under the License.
20:  */
21: package org.apache.struts2.showcase.jsf;
22: 
23: import java.util.ArrayList;
24: import java.util.Collection;
25: import java.util.HashMap;
26: import java.util.LinkedHashMap;
27: import java.util.List;
28: import java.util.Map;
29: 
30: import org.apache.struts2.showcase.action.EmployeeAction;
31: import org.apache.struts2.showcase.dao.SkillDao;
32: import org.apache.struts2.showcase.model.Employee;
33: import org.apache.struts2.showcase.model.Skill;
34: 
35: /**
36:  * Overriding the EmployeeAction to main provide getters returning the data in
37:  * the form required by the JSF components
38:  */
39: public class JsfEmployeeAction extends EmployeeAction {
40: 
41:     private static final long serialVersionUID = 1L;
42: 
43:     /**
44:      * Creating a default employee and main skill, since the JSF EL can't handle
45:      * creating new objects as necessary
46:      *
47:      */
48:     public JsfEmployeeAction() {
49:         Employee e = new Employee();
50:         e.setMainSkill(new Skill());
51:         setCurrentEmployee(e);
52:     }
53: 
54:     private SkillDao skillDao;
55: 
56:     public void setSkillDao(SkillDao skillDao) {
57:         this.skillDao = skillDao;
58:     }
59: 
60:     /**
61:      * Returning a List because the JSF dataGrid can't handle a Set for some
62:      * reason
63:      */
64:     @Override
65:     public Collection getAvailableItems() {
66:         return new ArrayList(super.getAvailableItems());
67:     }
68: 
69:     /**
70:      * Changing the String array into a Map
71:      */
72:     public Map&lt;String, String&gt; getAvailablePositionsAsMap() {
73:         Map&lt;String, String&gt; map = new LinkedHashMap&lt;String, String&gt;();
74:         for (String val : super.getAvailablePositions()) {
75:             map.put(val, val);
76:         }
77:         return map;
78:     }
79: 
80:     /**
81:      * Converting the list into a map
82:      */
83:     public Map getAvailableLevelsAsMap() {
84:         Map map = new LinkedHashMap();
85:         for (Object val : super.getAvailableLevels()) {
86:             map.put(val, val);
87:         }
88:         return map;
89:     }
90: 
91:     /**
92:      * Converting the Skill object list into a map
93:      */
94:     public Map&lt;String, String&gt; getAvailableSkills() {
95:         Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();
96:         for (Object val : skillDao.findAll()) {
97:             Skill skill = (Skill) val;
98:             map.put(skill.getDescription(), skill.getName());
99:         }
100:         return map;
101:     }
102: 
103:     /**
104:      * Gets the selected Skill objects as a list
105:      */
106:     public List&lt;String&gt; getSelectedSkillsAsList() {
107:         System.out.println(&quot;asked for skills&quot;);
108:         List&lt;String&gt; list = new ArrayList&lt;String&gt;();
109:         List skills = super.getSelectedSkills();
110:         if (skills != null) {
111:             for (Object val : skills) {
112:                 if (val instanceof Skill) {
113:                     list.add(((Skill) val).getDescription());
114:                 } else {
115:                     Skill skill = skillDao.getSkill((String) val);
116:                     list.add(skill.getDescription());
117:                 }
118:             }
119:         }
120:         return list;
121:     }
122: }
</pre>
    </div>

    
</div>

        <div id="nav">
            <div class="wrapper">
                <h2 class="accessibility">Navigation</h2>
                <ul class="clearfix">
        <li><a href="/struts2-showcase-2.0.6/showcase.jsp?config=file%3A%2FC%3A%2Fmol%2Ftools%2Fjakarta-tomcat-5.0.30%2Fwebapps%2Fstruts2-showcase-2.0.6%2FWEB-INF%2Fclasses%2Fstruts-jsf.xml%3A28&amp;page=%2Fjsf%2Femployee%2Fnull&amp;className=org.apache.struts2.showcase.jsf.JsfEmployeeAction">Home</a></li>
        <li><a href="/struts2-showcase-2.0.6/ajax/index.jsp?config=file%3A%2FC%3A%2Fmol%2Ftools%2Fjakarta-tomcat-5.0.30%2Fwebapps%2Fstruts2-showcase-2.0.6%2FWEB-INF%2Fclasses%2Fstruts-jsf.xml%3A28&amp;page=%2Fjsf%2Femployee%2Fnull&amp;className=org.apache.struts2.showcase.jsf.JsfEmployeeAction">Ajax</a></li>
        <li><a href="/struts2-showcase-2.0.6/chat/index.jsp?config=file%3A%2FC%3A%2Fmol%2Ftools%2Fjakarta-tomcat-5.0.30%2Fwebapps%2Fstruts2-showcase-2.0.6%2FWEB-INF%2Fclasses%2Fstruts-jsf.xml%3A28&amp;page=%2Fjsf%2Femployee%2Fnull&amp;className=org.apache.struts2.showcase.jsf.JsfEmployeeAction">Ajax Chat</a></li>
        <li><a href="/struts2-showcase-2.0.6/actionchaining/actionChain1!input.action">Action Chaining</a></li>
        <li><a href="/struts2-showcase-2.0.6/config-browser/index.action">Config Browser</a></li>
        <li><a href="/struts2-showcase-2.0.6/conversion/index.jsp?config=file%3A%2FC%3A%2Fmol%2Ftools%2Fjakarta-tomcat-5.0.30%2Fwebapps%2Fstruts2-showcase-2.0.6%2FWEB-INF%2Fclasses%2Fstruts-jsf.xml%3A28&amp;page=%2Fjsf%2Femployee%2Fnull&amp;className=org.apache.struts2.showcase.jsf.JsfEmployeeAction">Conversion</a></li>
        <li><a href="/struts2-showcase-2.0.6/empmanager/index.jsp?config=file%3A%2FC%3A%2Fmol%2Ftools%2Fjakarta-tomcat-5.0.30%2Fwebapps%2Fstruts2-showcase-2.0.6%2FWEB-INF%2Fclasses%2Fstruts-jsf.xml%3A28&amp;page=%2Fjsf%2Femployee%2Fnull&amp;className=org.apache.struts2.showcase.jsf.JsfEmployeeAction">CRUD</a></li>
        <li><a href="/struts2-showcase-2.0.6/wait/index.jsp?config=file%3A%2FC%3A%2Fmol%2Ftools%2Fjakarta-tomcat-5.0.30%2Fwebapps%2Fstruts2-showcase-2.0.6%2FWEB-INF%2Fclasses%2Fstruts-jsf.xml%3A28&amp;page=%2Fjsf%2Femployee%2Fnull&amp;className=org.apache.struts2.showcase.jsf.JsfEmployeeAction">Execute & Wait</a></li>
        <li><a href="/struts2-showcase-2.0.6/filedownload/index.jsp?config=file%3A%2FC%3A%2Fmol%2Ftools%2Fjakarta-tomcat-5.0.30%2Fwebapps%2Fstruts2-showcase-2.0.6%2FWEB-INF%2Fclasses%2Fstruts-jsf.xml%3A28&amp;page=%2Fjsf%2Femployee%2Fnull&amp;className=org.apache.struts2.showcase.jsf.JsfEmployeeAction">File Download</a></li>
        <li><a href="/struts2-showcase-2.0.6/fileupload?config=file%3A%2FC%3A%2Fmol%2Ftools%2Fjakarta-tomcat-5.0.30%2Fwebapps%2Fstruts2-showcase-2.0.6%2FWEB-INF%2Fclasses%2Fstruts-jsf.xml%3A28&amp;page=%2Fjsf%2Femployee%2Fnull&amp;className=org.apache.struts2.showcase.jsf.JsfEmployeeAction">File Upload</a></li>
        <li><a href="/struts2-showcase-2.0.6/freemarker/index.jsp?config=file%3A%2FC%3A%2Fmol%2Ftools%2Fjakarta-tomcat-5.0.30%2Fwebapps%2Fstruts2-showcase-2.0.6%2FWEB-INF%2Fclasses%2Fstruts-jsf.xml%3A28&amp;page=%2Fjsf%2Femployee%2Fnull&amp;className=org.apache.struts2.showcase.jsf.JsfEmployeeAction">Freemarker</a>
        <li><a href="/struts2-showcase-2.0.6/hangman/hangmanMenu.action?config=file%3A%2FC%3A%2Fmol%2Ftools%2Fjakarta-tomcat-5.0.30%2Fwebapps%2Fstruts2-showcase-2.0.6%2FWEB-INF%2Fclasses%2Fstruts-jsf.xml%3A28&amp;page=%2Fjsf%2Femployee%2Fnull&amp;className=org.apache.struts2.showcase.jsf.JsfEmployeeAction">Hangman</a></li>
        <li><a href="/struts2-showcase-2.0.6/jsf/index.jsp?config=file%3A%2FC%3A%2Fmol%2Ftools%2Fjakarta-tomcat-5.0.30%2Fwebapps%2Fstruts2-showcase-2.0.6%2FWEB-INF%2Fclasses%2Fstruts-jsf.xml%3A28&amp;page=%2Fjsf%2Femployee%2Fnull&amp;className=org.apache.struts2.showcase.jsf.JsfEmployeeAction">JavaServer Faces</a></li>
        <li><a href="/struts2-showcase-2.0.6/person/index.jsp?config=file%3A%2FC%3A%2Fmol%2Ftools%2Fjakarta-tomcat-5.0.30%2Fwebapps%2Fstruts2-showcase-2.0.6%2FWEB-INF%2Fclasses%2Fstruts-jsf.xml%3A28&amp;page=%2Fjsf%2Femployee%2Fnull&amp;className=org.apache.struts2.showcase.jsf.JsfEmployeeAction">Person Manager</a></li>
        <li><a href="/struts2-showcase-2.0.6/tags/index.jsp?config=file%3A%2FC%3A%2Fmol%2Ftools%2Fjakarta-tomcat-5.0.30%2Fwebapps%2Fstruts2-showcase-2.0.6%2FWEB-INF%2Fclasses%2Fstruts-jsf.xml%3A28&amp;page=%2Fjsf%2Femployee%2Fnull&amp;className=org.apache.struts2.showcase.jsf.JsfEmployeeAction">Tags</a></li>
        <li><a href="/struts2-showcase-2.0.6/tiles/index.action?config=file%3A%2FC%3A%2Fmol%2Ftools%2Fjakarta-tomcat-5.0.30%2Fwebapps%2Fstruts2-showcase-2.0.6%2FWEB-INF%2Fclasses%2Fstruts-jsf.xml%3A28&amp;page=%2Fjsf%2Femployee%2Fnull&amp;className=org.apache.struts2.showcase.jsf.JsfEmployeeAction">Tiles</a></li>
        <li><a href="/struts2-showcase-2.0.6/token/index.jsp?config=file%3A%2FC%3A%2Fmol%2Ftools%2Fjakarta-tomcat-5.0.30%2Fwebapps%2Fstruts2-showcase-2.0.6%2FWEB-INF%2Fclasses%2Fstruts-jsf.xml%3A28&amp;page=%2Fjsf%2Femployee%2Fnull&amp;className=org.apache.struts2.showcase.jsf.JsfEmployeeAction">Token</a></li>
        <li><a href="/struts2-showcase-2.0.6/validation/index.jsp?config=file%3A%2FC%3A%2Fmol%2Ftools%2Fjakarta-tomcat-5.0.30%2Fwebapps%2Fstruts2-showcase-2.0.6%2FWEB-INF%2Fclasses%2Fstruts-jsf.xml%3A28&amp;page=%2Fjsf%2Femployee%2Fnull&amp;className=org.apache.struts2.showcase.jsf.JsfEmployeeAction">Validation</a></li>
        <li class="last"><a href="/struts2-showcase-2.0.6/help.jsp?config=file%3A%2FC%3A%2Fmol%2Ftools%2Fjakarta-tomcat-5.0.30%2Fwebapps%2Fstruts2-showcase-2.0.6%2FWEB-INF%2Fclasses%2Fstruts-jsf.xml%3A28&amp;page=%2Fjsf%2Femployee%2Fnull&amp;className=org.apache.struts2.showcase.jsf.JsfEmployeeAction">Help</a></li>
                </ul>
            </div>
            <hr/>

        </div><!-- end nav -->

    </div><!-- end content -->

  <div>
      <p>
        <a href="/struts2-showcase-2.0.6/viewSource.action?config=file:/C:/mol/tools/jakarta-tomcat-5.0.30/webapps/struts2-showcase-2.0.6/WEB-INF/classes/struts.xml:60&className=org.apache.struts2.showcase.source.ViewSourceAction&page=//viewSource.jsp">View Sources</a>
      </p>
  </div>
    <div id="footer" class="clearfix">
        <p>Copyright &copy; 2003-2007 The Apache Software Foundation.</p>
    </div><!-- end footer -->
    <p/>

</div><!-- end page -->

</body>
</html>
