<?xml version="1.0" encoding="UTF-8"?>
<!--
    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements. See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License. You may obtain a copy of the License at
  
       http://www.apache.org/licenses/LICENSE-2.0
  
    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->

<document>

  <properties>
    <title>JRE Command-Line Options</title>
    <author email="dev@harmony.apache.org">Harmony Documentation Team</author>
  </properties>

  <body>

    <section name="Harmony JRE Command-Line Options">
      <p>
      This document gives tips on how to get the help on DRLVM DRL virtual machine (DRLVM) command line options. It also lists the of DRLVM component specific options and properties which can be used during code development or issues evaluation.</p> 
      <subsection name="Standard JRE Options">

        <p>
          To get the list of standard JRE options, run DRLVM with the <code>-help</code> option:
        </p>
        <pre>java -help</pre>
      </subsection>

      <subsection name="Non-standard JRE Options">

        <p>
          To get the list of non-standard JRE options, run DRLVM with the <code>-X</code> option:
        </p>
        <pre>java -X</pre>
      </subsection>

      <subsection name="Component-specific Options and Properties">

        <p>
          <em>
            <strong>
              <code>(since revision r549299, (Jun 21 2007))</code>
            </strong>
          </em>
        
</p>
        <h3>VM Core (vm/vmcore)</h3>


        <table>
          <tr>
            <th class="TableHeading">
             OPTIONS
     
            </th>
            <th  class="TableHeading">
              COMMENTS
            </th>
          </tr>
          <tr>

            <td>
              
                <strong>
                  <code>-XX:-vm.assert_dialog</code>
                </strong>
              
            </td>
            <td>
              Use to prevent assertion failures from popping up a dialog box.
            </td>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-XX:+vm.crash_handler</code>
                </strong>
              
            </td>
            <td>
              Use to invoke gdb on crashes (POSIX only)

            </td>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-XX:-vm.finalize</code>
                </strong>
              
            </td>
            <td>
              Use to disable finalization subsystem, that is, not to start finalization threads and to ignore finalization requests from the GC.
            </td>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-XX:+vm.jvmti_compiled_method_load_inlined</code>
                </strong>
              

            </td>
            <td>
              Use to report inlined methods with JVMTI_EVENT_COMPILED_METHOD_LOAD. Makes sense for optimizing jit.
            </td>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-XX:+vm_bootclasspath_appendclasspath</code>
                </strong>
              
            </td>
            <td>
               Use to append classpath to the bootclasspath.
            </td>
          </tr>

          <tr>
            <td>
              
                <strong>
                  <code>-XX:vm.dlls=&lt;list&gt;</code>
                </strong>
              
            </td>
            <td>
              A PATH_SEPARATOR-delimited list of modular dynamic libraries (GC/etc.) to load at startup.
            </td>
          </tr>
        </table>


        <h3 >EM (Execution Manager)</h3>


        <table>
          <tr>
            <th class="TableHeading">
          
                  OPTIONS

            </th>
            <th  class="TableHeading">
             COMMENTS
            </th>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-Xtrace:em</code>
                </strong>
              

            </td>
            <td>
              
                a commonly-used options to print method compilation events to <code>stdout</code>. Helps detect which method failed to compile (not an EM option, but very informative at EM behavior). This option is available in debug build only.
              
            </td>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-Xem:&lt;config&gt;</code>
                </strong>
              
            </td>
            <td>
               Specify Execution Manager configuration file to use. There is a set of predefined configuration files (client, server, opt, jet - please see below). You may also define your own EM configuration file. 

            </td>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-Xem:client</code>
                </strong>
              
            </td>
            <td>
               use optimization sequence for client applications (default EM configuration) 
            </td>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-Xem:server</code>
                </strong>
              

            </td>
            <td>
              
                use optimization sequence for server applications ('server' mode execution - analogous to <strong>
                  <code>'java -server'</code>
                </strong> in <code>HotSpot</code>)
              
            </td>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-Xem:jet</code>
                </strong>
              

            </td>
            <td>
               use fast-compiling non-optimizing JIT only (Jitrino.JET) 
            </td>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-Xem:opt</code>
                </strong>
              
            </td>
            <td>
               use aggressively optimising JIT compiler only (Jitrino.OPT) 
            </td>

          </tr>
        </table>


        <h3>Jitrino</h3>


        <table>
          <tr>
            <th class="TableHeading">

                  OPTIONS
             
            </th>
            <th  class="TableHeading">
              COMMENTS
            </th>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-XX:jit.arg.log=&lt;log_type&gt;</code>
                </strong>
              
            </td>
            <td>
               Enabling compilation logging for the Jitrino.OPT JIT compiler. &lt;log_type&gt; - a comma-separated list of the logging types to enable (see below the examples). 

            </td>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-XX:jit.arg.log=rt</code>
                </strong>
              
            </td>
            <td>
               turn ON all runtime logging 
            </td>
          </tr>
          <tr>
            <td>

              
                <strong>
                  <code>-XX:jit.arg.log=ct,dbg</code>
                </strong>
              
            </td>
            <td>
               turn ON compile-time logging and debug information 
            </td>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-XX:jit.arg.log=ct,irdump,dotdump,info</code>
                </strong>
              

            </td>
            <td>
               full compile-time logging for Jitrino (warning: takes much disk space) 
            </td>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-XX:jit.p.filter=.main -XX:jit.p.arg.log=ct,irdump,dotdump</code>
                </strong>
              
            </td>
            <td>
              
                enable compile-time logging for methods having names started with <code>main</code>
              

            </td>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-XX:jit.p.filter=java/lang/Math. -XX:jit.p.arg.log=ct,irdump,dotdump</code>
                </strong>
              
            </td>
            <td>
               enable logging for all methods of a single class 
            </td>
          </tr>
          <tr>
            <td>

              
                <strong>
                  <code>-XX:jit.arg.codegen.iprof=on</code>
                </strong>
              
            </td>
            <td>
              
                enable internal profiler dumps (<code>iprof.stat</code>) in Jitrino.OPT (needs <code>iprof.cfg</code>)
              
            </td>
          </tr>
        </table>


        <h3>GCv5 (vm/gc_gen)</h3>


        <table>
          <tr>
            <th  class="TableHeading">

              OPTIONS
              </th>
            <th  class="TableHeading">
           COMMENTS
            </th>
          </tr>
          <tr>
            <td>

              
                <strong>
                  <code>-XX:gc.ms=N</code>
                </strong>
              
            </td>
            <td>
              Same as -Xms
            </td>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-XX:gc.mx=N</code>
                </strong>
              
            </td>
            <td>
              same as -Xmx
            </td>

          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-XX:gc.nos_size=N</code>
                </strong>
              
            </td>
            <td>
              Specify a fixed size for NOS (nursery object space or young generation).
            </td>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-XX:gc.num_collectors=N</code>
                </strong>
              
            </td>
            <td>

              Specify the number of collectors used for collections for parallel collection.
            </td>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-XX:+gc.use_large_page</code>
                </strong>
              
            </td>
            <td>
              Use to turn on large page support of the platform.
            </td>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-XX:+gc.verify</code>
                </strong>
              

            </td>
            <td>
              Use to turn on GC verifier for GC debugging, type to see available options.
            </td>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-XX:+gc.force_major_collect</code>
                </strong>
              
            </td>
            <td>
              Use to force every collection to be full heap collection (i.e., no minor collections).
            </td>
          </tr>
          <tr>

            <td>
              
                <strong>
                  <code>-XX:+gc.ignore_finref</code>
                </strong>
              
            </td>
            <td>
              Use to do not process finalizer and weak references.
            </td>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-XX:-gc.heap_iteration</code>
                </strong>
              
            </td>
            <td>
              Use to disable JVMTI functionality of heap iteration.

            </td>
          </tr>
        </table>


        <h3>GCv41 (vm/gc_cc)</h3>


        <table>
          <tr>
            <th  class="TableHeading">

              OPTIONS
              </th>
            <th  class="TableHeading">
              COMMENTS
            </th>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-verbose:gc</code>
                </strong>
              
            </td>
            <td>
              Use to enable init messages from GC and information about GC pauses.
            </td>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-XX:gc.adaptive=0</code>
                </strong>
              

            </td>
            <td>
              Use to disable adaptive selection between GC algorithms: copying and sliding compaction.
            </td>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-XX:gc.type=N</code>
                </strong>
              
            </td>
            <td>
              
                Use to specify the number of the GC algorithm to use (use together with <code>-Dgc.adaptive=0</code>). Available algorithms: 1.copying + fallback to sliding compaction; 2.full collection using sliding compaction; 3.sliding compaction.
              

            </td>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-XX:gc.heap_iteration=1</code>
                </strong>
              
            </td>
            <td>
              
                Use to enable heap iteration support needed for using the JVMTI function <code>IterateOverHeap</code>.
              
            </td>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-XX:gc.ignore_finalizers=1</code>
                </strong>
              

            </td>
            <td>
              Use to ignore finalizable objects, that is, not to track reachability of finalizable object, not to revive them and not to pass revived objects to VM for finalization.
            </td>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-XX:gc.lp=1</code>
                </strong>
              
            </td>
            <td>
              
                Use on Windows to enable (<code>1</code>) or disable (<code>0</code>) using of large pages to utilize TLB more efficiently. Use <code>-verbose:gc.lp</code> for more diagnostics.
              

            </td>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-XX:gc.lp=/mnt/huge</code>
                </strong>
              
            </td>
            <td>
              
                Use on Linux to enable (<code>1</code>) or disable (<code>0</code>) using of large pages to utilize TLB more efficiently. Huge pages are allocated with the <code>mmap</code> method. You should specify the mount point where <code>hugetlbfs</code> is mounted. Use <code>-verbose:gc.lp</code> for more  diagnostics.
              

            </td>
          </tr>
          <tr>
            <td>
              
                <strong>
                  <code>-XX:gc.remember_root_set=1</code>
                </strong>
              
            </td>
            <td>
              Use to enable a root-set caching mode. By default, the copying collector starts evacuating objects as soon as it starts receiving roots during root set enumeration. This option disables immediate evacuation and ensures no objects are moved until the root-set enumeration is complete.
            </td>
          </tr>
        </table>

      </subsection>
    </section>
    </body>
</document>

