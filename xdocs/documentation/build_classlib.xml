<?xml version="1.0" encoding="UTF-8"?>

<!--

    Copyright 2006 The Apache Software Foundation

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->

<document>

 <properties>
  <title>Apache Harmony Classlib Building</title>
  <author email="harmony-dev@incubator.apache.org">Harmony Documentation Team</author>
 </properties>

<body>

<section name="Apache Harmony Class Library Building">
	<p>
		The Harmony class library code is a subset of the Java(tm) SE 1.4.2 APIs currently
		being developed in the <a href="http://incubator.apache.org/harmony/">
		Apache Harmony project</a>. This page describes how to build the class library code,
		and includes links to pre-built versions of the code.
	</p>
	<p>
		<i>Standard Disclaimer:</i>
		Apache Harmony is an effort undergoing incubation at the Apache Software
		Foundation (ASF). Incubation is required of all newly accepted projects until
		a further review indicates that the infrastructure, communications, and
		decision making process have stabilized in a manner consistent with other
		successful ASF projects. While incubation status is not necessarily a
		reflection of the completeness or stability of the code, it does indicate
		that the project has yet to be fully endorsed by the ASF. 
	</p>

<subsection name="Building from source">
	<p>
		The Harmony class library code is available for Microsoft(tm) Windows(tm) and
		Linux(tm) operating systems, on x86 processors only.
	</p>
	<p>
		The following prerequisite tools must be available on the path in order to build
		the Harmony classlib code from source.
		<ul>
			<li>All platforms require Subversion client, Apache Ant, Java 1.4.2 JDK (i.e. including javac)</li>
			<li>in addition
				<ul>
		    		<li>Windows platforms : Microsoft Visual C++, and nmake. </li>
		    		<li>Linux platforms : Gnu gcc.</li>
		    	</ul>
		    </li>
		</ul>
	</p>
	<p>
		You can build the classlib code in three simple steps:
		<ol>
			<li>Download classlib source from Harmony subversion repository
			<pre>svn checkout https://svn.apache.org/repos/asf/incubator/harmony/enhanced/classlib/tags/SNAP-20060112 Harmony</pre>
			</li>
			<li>Change to main make directory, and run the default ant script target
			<pre>cd Harmony/make</pre>
			<pre>ant</pre>
			</li>
			<li>Get a VM suitable for running the class library code (see below), and
				expand it over the top of the Harmony directory (so that the 'jre'
				directories line-up)
			<pre>unzip &lt;path_to_vm_zip&gt; -d ../.. (on Windows)</pre>
			<pre>tar xzf &lt;path_to_vm_tarball&gt; --directory ../.. (on Linux)</pre>
			</li>
		</ol>
	</p>
	<p>
		Now you are ready to run some Java applications!
	</p>
</subsection>

<subsection name="Using pre-built binaries">
	<p>
		Pre-built binaries will soon be made available as a convenience for people who don't
		have ready access to the prerequisite tools. These are snapshot builds, not official
		releases of the project.
	</p>
	<p>
		<i>Check back soon for some binary download links!</i>
	</p>
</subsection>

<subsection name="Obtaining a compatible VM">
	<p>
		The Harmony class library code interfaces to a VM through a virtual machine interface
		defined in the Harmony project.
	</p>
	<p>
		There is a VM that implements this interface available from the
		<a href="http://www-128.ibm.com/developerworks/java/jdk/harmony/index.html">
		IBM DeveloperWorks site</a>.
		<em>The IBM VM is not open source</em> (although the VM interface itself is).
	</p>
	<p>
		Once you have obtained the IBM VM you should have one of the following files:
		<ul>
			<li>on Windows “Harmony-vme-win.IA32-v1.zip”</li>
			<li>on Linux “Harmony-vme-linux.IA32-v1.tar.gz”</li>
		</ul>
	</p>
</subsection>

</section>
</body>
</document>