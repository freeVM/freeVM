<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<!--
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements.  See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->


<!-- start the processing -->
    <!-- ====================================================================== -->
    <!-- GENERATED FILE, DO NOT EDIT, EDIT THE XML FILE IN xdocs INSTEAD! -->
    <!-- Main Page Section -->
    <!-- ====================================================================== -->
    <html>
        <head>
            <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>

                                                    <meta name="author" value="Harmony Documentation Team">
            <meta name="email" value="harmony-dev@incubator.apache.org">
            
           
            
            
            
            
            
            <title>Apache Harmony - Testing conventions in the Apache Harmony Classlib</title>

                                <link rel="Stylesheet" type="text/css" href="site.css"/>
        </head>

        <body>        
            <table  width="100%" cellspacing="0">
                <!-- TOP IMAGE -->
                <tr>
                    <td align='LEFT'>
                    <table><tr><td>
                    <td>
<a href="http://incubator.apache.org/harmony/"><img  src="../../images/harmony-logo.png" alt="Apache Harmony" /></a>
</td>
</td>
                    </td></tr></table>
                    </td>
                    <td align='RIGHT'>
                    <a href="http://incubator.apache.org/harmony/">
                    <img src="http://incubator.apache.org/harmony/images/apache-incubator-logo.png"
                    	alt="Apache Harmony" /></a>                    
                    </td>
                </tr>
            </table>
            <table width="100%" cellspacing="4">
                <tr><td colspan="2">
                    <hr noshade="" size="1"/>
                </td></tr>

                <tr>
                    <!-- LEFT SIDE NAVIGATION -->
                    <td class="menuItem" width="20%" nowrap="true">

                    <!-- special ACon Logo - leave here for next time
                    <a href="http://www.us.apachecon.com/">
                        <img src="http://www.apache.org/ads/ApacheCon/240x120-2006-us.gif"
                             alt="ApacheCon US 2006" />
                    </a> -->

                   <!-- regular menu -->

                    
    <!-- ============================================================ -->

                <p class="menuItem"><strong>General</strong></p>
        <ul>
                    <li class="menuItem">    <a href="../../index.html">Home</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../license.html">License</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../contribution_policy.html">Contribution Policy</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../guidelines.html">Project Guidelines</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="http://www.apache.org/">ASF</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../downloads.html">Downloads</a>
</li>
            
           
                        
                </ul>
            <p class="menuItem"><strong>Community</strong></p>
        <ul>
                    <li class="menuItem">    <a href="../../get-involved.html">Get Involved</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../contributors.html">Committers</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../mailing.html">Mailing Lists</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../documentation/documentation.html">Documentation</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../faq.html">FAQ</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="http://wiki.apache.org/harmony">Wiki</a>
</li>
            
           
                        
                </ul>
            <p class="menuItem"><strong>Development</strong></p>
        <ul>
                    <li class="menuItem">    <a href="../../status.html">How Are We Doing?</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../roadmap.html">Road Map / TODO</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../svn.html">Source Code</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="http://issues.apache.org/jira/browse/HARMONY">JIRA</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../related.html">Other Projects</a>
</li>
            
           
                        
                </ul>
            <p class="menuItem"><strong>Subcomponents</strong></p>
        <ul>
                    <li class="menuItem">    <a href="../../subcomponents/buildtest/index.html">Build-Test Framework</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../subcomponents/classlibrary/index.html">Class Library</a>
</li>
            
           
                           <table>
              <tr><td class="menuItem">
                &nbsp;&nbsp;&nbsp;&nbsp;    <a href="../../subcomponents/classlibrary/status.html">Status</a>
                </td></tr>
              </table>
                        
                    <li class="menuItem">    <a href="../../subcomponents/drlvm/index.html">DRLVM</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../subcomponents/jchevm/index.html">JCHEVM</a>
</li>
            
           
                        
                </ul>
                        </td>
                    <td width="80%" valign="top"><a name="top"></a>
                                                                    <table  cellspacing="0" cellpadding="2" width="100%">
      <tr><td>
        <h1>
          <a name="Testing conventions used in the Apache Harmony Class Library">Testing conventions used in the Apache Harmony Class Library</a>
        </h1>
      </td></tr>
      <tr><td>
                                    <p>
		This document describes PROPOSED placement and package naming conventions for
                different types of Harmony class library tests.
	</p>
                                                <p>
		The Harmony class library code is organized into modules that might have their own
                specifics. This document provides general guidlines and recomendations that might be
                adapted/modified to reflect module specifics.
	</p>
                                                <p>
		See also: <a href="ser_testing.html">Framework for testing serialization</a>
	</p>
                                                    
      <tr><td>
            <h2>
          <a name="Location of the tests in the directory tree">Location of the tests in the directory tree</a>
            </h2>
      </td></tr>
      <tr><td>
        
                                    <p>
		Each Java class belongs to a specific module of the Harmony class library. Tests against
                classes belonging to a module belong to the same module. Tests, their resources, and support
                classes are located under
			<blockquote>
				<code>&lt;modulename&gt;/src/test</code>
			</blockquote>
		Tests that are specific for Harmony, testing Harmony implementation details, and may fail
                on RI or other compliant implementations are separated from the imlpementation-independent
                tests that must pass on RI and all conformant implementations. 
			<blockquote>
				<code>&lt;modulename&gt;/src/test/<b>impl</b></code> - Harmony specific tests<br />
				<code>&lt;modulename&gt;/src/test/<b>api</b></code> - Implementation-independent tests
			</blockquote>
                Special-purpose tests like stress tests or tests that require special configuration are 
                separated from general-purpose tests.
			<blockquote>
				<code>&lt;modulename&gt;/src/test/<b>stress</b></code>
			</blockquote>

                Tests are not separated by functionality under test, e.g. tests against <code>clone()</code>
                methods are <b>not</b> separated from tests against <code>equals()</code> methods.

                Classpath tests are separated from bootclasspath tests on a directory level:
			<blockquote>
				<code>&lt;modulename&gt;/src/test/api/<b>java</b></code> - Classpath tests<br />
				<code>&lt;modulename&gt;/src/test/api/<b>java.injected</b></code> - Bootclasspath tests<br />
			</blockquote>
                More details below.<br /><br />


                Some modules might have platform specific tests that are in the case separated on a directory 
                level:
			<blockquote>
				<code>&lt;modulename&gt;/src/test/api/<b>common</b></code><br />
				<code>&lt;modulename&gt;/src/test/api/<b>windows</b></code><br />
				<code>&lt;modulename&gt;/src/test/api/<b>linux</b></code>
			</blockquote>
	</p>
                            
      </td></tr>
       
                                                    
      <tr><td>
            <h2>
          <a name="Package and class names for different types of the tests">Package and class names for different types of the tests</a>
            </h2>
      </td></tr>
      <tr><td>
        
                                    <p>
		If the test is designed to be run from bootclasspath then its package is the same
                as the package of the class under test
	</p>
                                                <p>
		If the test is designed to be run from classpath then:<br />
                If the package under test belongs to a public package (i.e. that is a part of the API specification)
                then the test's package is 
			<blockquote>
				<code>org.apache.harmony.&lt;modulename&gt;.tests.<b>&lt;package under test&gt;</b></code>
			</blockquote>
                Example: 
			<blockquote>
				<code>org.apache.harmony.luni.tests.<b>java.lang</b></code><br />
				<code>org.apache.harmony.crypto.tests.<b>javax.crypto</b></code><br />
				<code>org.apache.harmony.auth.tests.<b>org.ietf.jgss</b></code>
			</blockquote>

                If the package under test belongs to <code>org.apache.harmony</code> namespace so that class's package is
			<blockquote>
				<code>org.apache.harmony.&lt;modulename&gt;.<b>&lt;rest of the package name&gt;</b></code>
			</blockquote>
                then the test's package is 
			<blockquote>
				<code>org.apache.harmony.&lt;modulename&gt;.tests.<b>&lt;rest of the package name&gt;</b></code>
			</blockquote>
                Example: 
			<blockquote>
				<code>org.apache.harmony.luni.internal.net.www.protocol</code> - package under test<br />
				<code>org.apache.harmony.luni.tests.internal.net.www.protocol</code> - package for the test
			</blockquote>


	</p>
                                                <p>
                To avoid collision of test results for various type of tests, test type might be reflected in test name
                for example, to separate impl test results from api test results impl test names end with 
                <code>_ImplTest</code>
			<blockquote>
				<code>javax.crypto.<b>CipherTest</b></code> - Implementation independent bootclasspath test for <code>javax.crypto.Cipher</code><br />
				<code>javax.crypto.<b>Cipher_ImplTest</b></code> - Implementation specific bootclasspath test for <code>javax.crypto.Cipher</code><br />
			</blockquote>

	</p>
                            
      </td></tr>
       
                           
      </td></tr>
    </table>
    <p><a href="#top">Back to top</a></p>
                    
                                                            </td>
                </tr>

                <!-- FOOTER -->
                <tr><td colspan="2">
                    <hr noshade="" size="1"/>
                </td></tr>
                <tr><td colspan="2">
                    <div class="special"><em>
                    Copyright &#169; 2003-2006, The Apache Software Foundation
                    </em></div>
                </td></tr>
            </table>
        </body>
    </html>
<!-- end the processing -->






















