<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<!--
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements. See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License. You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->


<!-- start the processing -->
    <!-- ====================================================================== -->
    <!-- GENERATED FILE, DO NOT EDIT, EDIT THE XML FILE IN xdocs INSTEAD! -->
    <!-- Main Page Section -->
    <!-- ====================================================================== -->
    <html>
        <head>
            <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>

                                                    <meta name="author" value="Harmony Documentation Team">
            <meta name="email" value="dev@harmony.apache.org">
            
           
            
            
            
            
            
            <title>Apache Harmony - Testing Conventions in the Apache Harmony Classlib</title>

                        
                        
        <link rel="stylesheet" type="text/css" href="../../site.css" media="all" />
        <link rel="stylesheet" type="text/css" href="../../screen.css" media="screen" />
        <link rel="stylesheet" type="text/css" href="../../print.css" media="print" />
        </head>

        <body>
            <div id="pageHeader">
            <!-- Logo -->
                        <a id="harmonyLogo" href="http://harmony.apache.org/"><img src="../../images/harmony-logo-new.png" alt="Apache Harmony"
          width="415" height="50" /></a>
      
            <!-- Advertisement -->
            <a href="http://www.apachecon.com/2007/EU/index.html">
                <img id="advertisement"
                     src="http://www.apache.org/ads/ApacheCon/2007-usa-234x60.png"
                     width="234" height="60"
                     alt="ApacheCon US 2007" /></a>
            </div> <!-- pageHeader -->

            <div id="navigationmenu">
                    <!-- LEFT SIDE NAVIGATION -->
                
    <!-- ============================================================ -->

                <p class="menuItem">General</p>
        <ul>
                    <li class="menuItem">    <a href="../../index.html">Home</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../license.html">License</a>
</li>
           
                        
                    <li class="menuItem">    <a href="http://apache.org">ASF</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../contribution_policy.html">Contribution Policy</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../downloads.html">Downloads</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../bundles.html">Bundles</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../faq.html">FAQ</a>
</li>
           
                        
        
        </ul>
            <p class="menuItem">Community</p>
        <ul>
                    <li class="menuItem">    <a href="../../get-involved.html">Get Involved</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../contributors.html">Who we are</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../mailing.html">Mailing Lists</a>
</li>
           
                        
                    <li class="menuItem">    <a href="http://issues.apache.org/jira/browse/HARMONY">Bug Tracker</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../related.html">Other Projects</a>
</li>
           
                        
        
        </ul>
            <p class="menuItem">Development</p>
        <ul>
                    <li class="menuItem">    <a href="../../svn.html">Source Code</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../quickhelp_contributors.html">Getting Started</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../roadmap.html">Project Roadmap</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../issue_resolution_guideline.html">Resolution Guideline</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../performance.html">Performance</a>
</li>
           
                        
        
        </ul>
            <p class="menuItem">Documentation</p>
        <ul>
                    <li class="menuItem">    <a href="../../sitemap.html">Sitemap</a>
</li>
           
                        
                    <li class="menuItem">    <a href="http://wiki.apache.org/harmony">Wiki</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../hdk.html">HDK</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../subcomponents/drlvm/index.html">DRLVM</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../subcomponents/classlibrary/index.html">Class Library</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../subcomponents/buildtest/index.html">Build-test Framework</a>
</li>
           
                        
        
        </ul>
                </div>

            <!-- MAIN CONTENT -->
            <div id="top">
                                                        <h1>
      <a name="Testing Conventions Used in the Apache Harmony Class Library">Testing Conventions Used in the Apache Harmony Class Library</a>
    </h1>
                        <p>
                <big><i>This document describes PROPOSED placement and package naming conventions for
                different types of Harmony class library tests.</i></big>
            </p>
                                <p>
                The Harmony class library code is organized into modules that might have their own
                specifics. This document provides general guidlines and recomendations that might be
                adapted/modified to reflect module specifics.
            </p>
                                <p>
                See also: <a href="ser_testing.html">Framework for Testing Serialization</a>
            </p>
                                    
    <h2>
        <a name="Location of the Tests in the Directory Tree">Location of the Tests in the Directory Tree</a>
    </h2>
      
                        <p>
                    Each Java class belongs to a specific module of the Harmony class library. Tests against
                    classes belonging to a module belong to the same module. Tests, their resources, and support
                    classes are located under:
                </p>
                                <pre>&lt;modulename&gt;/src/test</pre>
                                <p>
                    Tests that are specific for Harmony, testing Harmony implementation details, and may fail
                    on RI or other compliant implementations are separated from the imlpementation-independent
                    tests that must pass on RI and all conformant implementations.
                </p>
                                <pre>&lt;modulename&gt;/src/test/<b>impl</b> - Harmony specific tests
&lt;modulename&gt;/src/test/<b>api</b> - Implementation-independent tests</pre>
                                <p>
                    Special-purpose tests like stress tests or tests that require special configuration are
                    separated from general-purpose tests.
                </p>
                                <pre>&lt;modulename&gt;/src/test/<b>stress</b></pre>
                                <p>
                    Tests are not separated by functionality under test, for example, tests against <code>clone()</code>
                    methods are NOT separated from tests against <code>equals()</code> methods.
                    Classpath tests are separated from bootclasspath tests on a directory level:
                </p>
                                <pre>&lt;modulename&gt;/src/test/api/<b>java</b> - Classpath tests
&lt;modulename&gt;/src/test/api/<b>java.injected</b> - Bootclasspath tests</pre>
                                <p>
                    Find more details <a href="#Package and Class Names for Different Types of the Tests">
                        below</a>.
               </p>
                                <p>
                    Some modules might have platform specific tests that are in the case separated on a directory
                    level:
                </p>
                                <pre>&lt;modulename&gt;/src/test/api/<b>common</b>
&lt;modulename&gt;/src/test/api/<b>windows</b>
&lt;modulename&gt;/src/test/api/<b>linux</b></pre>
                   
                                    
    <h2>
        <a name="Package and Class Names for Different Types of the Tests">Package and Class Names for Different Types of the Tests</a>
    </h2>
      
                        <p>
                    If the test is designed to be run from bootclasspath, then its package is the same
                    as the package of the class under the test.
                </p>
                                <p>
                    If the test is designed to be run from classpath then:
                </p>
                                <ol>
                    <li>
                        If the package under test belongs to a public package, for example, it
                        is a part of the API specification, then the test's package is:
<pre>org.apache.harmony.&lt;modulename&gt;.tests.<b>&lt;package under test&gt;</b></pre>
                        <p class="example">Example</p>
<pre>org.apache.harmony.luni.tests.<b>java.lang</b>
org.apache.harmony.crypto.tests.<b>javax.crypto</b>
org.apache.harmony.auth.tests.<b>org.ietf.jgss</b></pre>
                    </li>
                    <li>
                        If the package under test belongs to <code>org.apache.harmony</code>
                        namespace so that class's package is:
<pre>org.apache.harmony.&lt;modulename&gt;.<b>&lt;rest of the package name&gt;</b></pre>
                        then the test's package is:
<pre>org.apache.harmony.&lt;modulename&gt;.tests.<b>&lt;rest of the package name&gt;</b></pre>
                        <p class="example">Example</p>
                        <p class="exampletext">
                            <code>org.apache.harmony.luni.internal.net.www.protocol</code> - package under test<br />
                            <code>org.apache.harmony.luni.tests.internal.net.www.protocol</code> - package for the test
                        </p>
                    </li>
                </ol>
                                <p>
                    To avoid collision of test results for various type of tests, reflect a test type in a test name.
                </p>
                                <p class="example">Example</p>
                                <p class="exampletext">
                    To separate the <code>impl</code> test results from
                    the <code>api</code> ones, the <code>impl</code> test names end with
                    <code>_ImplTest</code>:<br />
                    <code>
                        javax.crypto.<b>CipherTest</b>
                    </code> - Implementation independent bootclasspath
                    test for <code>javax.crypto.Cipher</code><br />
                    <code>
                        javax.crypto.<b>Cipher_ImplTest</b>
                    </code> - Implementation specific bootclasspath
                    test for <code>javax.crypto.Cipher</code>
                </p>
                   
                <p class="backtotop"><a href="#top">Back to top</a></p>
                
                                            </div> <!-- top aka Main Content -->

            <!-- FOOTER -->
            <div id="pageFooter" class="special"><em>
                Copyright &#169; 2003-2007, The Apache Software Foundation
            </em></div>
        </body>
    </html>
<!-- end the processing -->

























