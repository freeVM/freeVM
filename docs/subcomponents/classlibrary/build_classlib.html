<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<!--
Copyright 1999-2004 The Apache Software Foundation
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->


<!-- start the processing -->
    <!-- ====================================================================== -->
    <!-- GENERATED FILE, DO NOT EDIT, EDIT THE XML FILE IN xdocs INSTEAD! -->
    <!-- Main Page Section -->
    <!-- ====================================================================== -->
    <html>
        <head>
            <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>

                                                    <meta name="author" value="Harmony Documentation Team">
            <meta name="email" value="harmony-dev@incubator.apache.org">
            
           
            
            
            
            
            
            <title>Apache Harmony - Building the Apache Harmony Classlib</title>

                                <link rel="Stylesheet" type="text/css" href="/harmony/site.css"/>
        </head>

        <body>        
            <table  width="100%" cellspacing="0">
                <!-- TOP IMAGE -->
                <tr>
                    <td align='LEFT'>
                    <table><tr><td>
                    <td>
<a href="http://incubator.apache.org/harmony/"><img  src="../../images/harmony-logo.png" alt="Apache Harmony" /></a>
</td>
</td>
                    </td></tr></table>
                    </td>
                    <td align='RIGHT'>
                    <a href="http://incubator.apache.org/harmony/">
                    <img src="http://incubator.apache.org/harmony/images/apache-incubator-logo.png"
                    	alt="Apache Harmony" /></a>                    
                    </td>
                </tr>
            </table>
            <table width="100%" cellspacing="4">
                <tr><td colspan="2">
                    <hr noshade="" size="1"/>
                </td></tr>

                <tr>
                    <!-- LEFT SIDE NAVIGATION -->
                    <td class="menuItem" width="20%" nowrap="true">

                    <!-- special ACon Logo - leave here for next time -->
                    <a href="http://www.us.apachecon.com/">
                        <img src="http://www.apache.org/ads/ApacheCon/240x120-2006-us.gif"
                             alt="ApacheCon US 2006" />
                    </a>

                   <!-- regular menu -->

                    
    <!-- ============================================================ -->

                <p class="menuItem"><strong>General</strong></p>
        <ul>
                    <li class="menuItem">    <a href="../../index.html">Home</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../license.html">License</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../contribution_policy.html">Contribution Policy</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../guidelines.html">Project Guidelines</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="http://www.apache.org/">ASF</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../downloads.html">Downloads</a>
</li>
            
           
                        
                </ul>
            <p class="menuItem"><strong>Community</strong></p>
        <ul>
                    <li class="menuItem">    <a href="../../get-involved.html">Get Involved</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../contributors.html">Committers</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../mailing.html">Mailing Lists</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../documentation/documentation.html">Documentation</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../faq.html">FAQ</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="http://wiki.apache.org/harmony">Wiki</a>
</li>
            
           
                        
                </ul>
            <p class="menuItem"><strong>Development</strong></p>
        <ul>
                    <li class="menuItem">    <a href="../../status.html">How Are We Doing?</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../roadmap.html">Road Map / TODO</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../svn.html">Source Code</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="http://issues.apache.org/jira/browse/HARMONY">JIRA</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../related.html">Other Projects</a>
</li>
            
           
                        
                </ul>
            <p class="menuItem"><strong>Subcomponents</strong></p>
        <ul>
                    <li class="menuItem">    <a href="../../subcomponents/buildtest/index.html">Build-Test Framework</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../subcomponents/classlibrary/index.html">Class Library</a>
</li>
            
           
                           <table>
              <tr><td class="menuItem">
                &nbsp;&nbsp;&nbsp;&nbsp;    <a href="../../subcomponents/classlibrary/status.html">Status</a>
                </td></tr>
              </table>
                        
                    <li class="menuItem">    <a href="../../subcomponents/drlvm/index.html">DRLVM</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../subcomponents/jchevm/index.html">JCHEVM</a>
</li>
            
           
                        
                </ul>
                        </td>
                    <td width="80%" valign="top"><a name="top"></a>
                                                                    <table  cellspacing="0" cellpadding="2" width="100%">
      <tr><td>
        <h1>
          <a name="Building the Apache Harmony Class Library">Building the Apache Harmony Class Library</a>
        </h1>
      </td></tr>
      <tr><td>
                                    <p>
		The Harmony class library code is a subset of the Java(tm) SE 1.5 APIs currently
		being developed in the <a href="http://incubator.apache.org/harmony/">
		Apache Harmony project</a>. This page describes how to build the class library code,
		and includes links to pre-built versions of the code.
	</p>
                                                <p>
		<i>Standard Disclaimer:</i>
		Apache Harmony is an effort undergoing incubation at the Apache Software
		Foundation (ASF). Incubation is required of all newly accepted projects until
		a further review indicates that the infrastructure, communications, and
		decision making process have stabilized in a manner consistent with other
		successful ASF projects. While incubation status is not necessarily a
		reflection of the completeness or stability of the code, it does indicate
		that the project has yet to be fully endorsed by the ASF. 
	</p>
                                                    
      <tr><td>
            <h2>
          <a name="Building from source">Building from source</a>
            </h2>
      </td></tr>
      <tr><td>
        
                                    <p>
		The Harmony class library code is available for Microsoft(tm) Windows(tm) and
		Linux(tm) operating systems, on x86 processors only.
	</p>
                                                <p>
		The following prerequisite tools must be available on the path in order to build
		the Harmony classlib code from source.
		<ul>
			<li>All platforms require Subversion client, Apache Ant, Java 1.5 JDK
				(i.e. including javac) in addition
				<ul>
	    			<li>Windows platforms : Microsoft Visual C++, and nmake. </li>
	    			<li>Linux platforms : Gnu gcc, and Gnu make.</li>
	    		</ul>
		    </li>
		</ul>

        <i><b>Please Note :</b></i> Please use <a href="http://ant.apache.org">Ant</a>
        version 1.6.5 or later - earlier versions
        (ex. 1.6.2) have been reported to handle the .svn directory incorractly, resulting
        in double-scanning file systems during build.

    </p>
                                                <p>
		You can build the latest version of the class library code in three simple steps:
		<ol>
			<li>Download classlib source from Harmony subversion repository
			<pre>svn checkout -r HEAD https://svn.apache.org/repos/asf/incubator/harmony/enhanced/classlib/trunk Harmony</pre>
			</li>
			<li>Change to top-level classlib directory, and run the default ant script target
			<pre>cd Harmony
ant</pre>
			</li>
			<li><a href="#Obtaining_a_VM">Get a VM suitable for running the class library
				code</a>, and
				expand it over the top of the Harmony directory (so that the 'jdk'
				directories line-up)
			<pre>unzip &lt;path_to_vm_zip&gt; -d ../.. (on Windows)</pre>
			<pre>tar xzf &lt;path_to_vm_tarball&gt; --directory ../.. (on Linux)</pre>
			</li>
		</ol>
	</p>
                                                <p>
		Now you are ready to <a href="#Running_Java">run some Java applications</a>!
	</p>
                            
      </td></tr>
       
                                                    
      <tr><td>
            <h2>
          <a name="Using pre-built binaries">Using pre-built binaries</a>
            </h2>
      </td></tr>
      <tr><td>
        
                                    <p>
		Pre-built binaries are available as a convenience for people who don't
		have ready access to the prerequisite tools.
	</p>
                                                <p>
		These are <i>snapshot</i> builds, not official releases of the project.
		Snapshots are builds of the repository at a given revision.  The file
		name of each snapshot build indicates the revision of the code repository,
		and the platform on which it was built.
	</p>
                                                <p>
		You can use a pre-built binaries in three easy steps:
		<ol>
			<li>Obtain a pre-built class library snapshot for your platform from the
				<a href="http://cvs.apache.org/dist/incubator/harmony/snapshots/">
				Harmony snapshot site</a>.</li>
			<li><a href="#Obtaining_a_VM">Obtain a compatible virtual machine</a> and
				put it into the same directory as the class library code.</li>
   			<li>Simply expand the classlib archive and the VM archive from the
   				same directory. They should create a subdirectory called "Harmony"
   				with files from each archive overlaid (so that the
   				'Harmony/deploy/jdk'-s line-up).</li>
   				On Windows:
   				<pre>unzip &lt;path_to_classlib_zip&gt; (on Windows)
unzip &lt;path_to_vm_zip&gt;</pre>
				On Linux:
				<pre>tar xzf &lt;path_to_classlib_tarball&gt; (on Linux)
tar xzf &lt;path_to_vm_tarball&gt;</pre>
		</ol>
	</p>
                                                <p>
		Now you are ready to <a href="#Running_Java">run some Java applications</a>!
	</p>
                            
      </td></tr>
       
                                                    
      <tr><td>
            <h2>
          <a name="Obtaining a compatible VM">Obtaining a compatible VM</a>
            </h2>
      </td></tr>
      <tr><td>
        
                                    <a name="Obtaining_a_VM" />
                                                <p>
		The Harmony class library code interfaces to a VM through a virtual machine interface
		defined in the Harmony project.
	</p>
                                                <p>
		There is a VM that implements this interface available from the
		<a href="http://www-128.ibm.com/developerworks/java/jdk/harmony/index.html">
		IBM DeveloperWorks site</a>.
		<em>The IBM VM is not open source</em> (although the VM interface itself is).
	</p>
                                                <p>
		Once you have obtained the IBM VM you should have one of the following files:
		<ul>
			<li>on Windows "Harmony-vme-win.IA32-v4.zip"</li>
			<li>on Linux "Harmony-vme-linux.IA32-v4.tar.gz"</li>
		</ul>
	</p>
                            
      </td></tr>
       
                                                    
      <tr><td>
            <h2>
          <a name="Running Java applications">Running Java applications</a>
            </h2>
      </td></tr>
      <tr><td>
        
                                    <a name="Running_Java" />
                                                <p>
		Ensure that the <code>JAVA_HOME</code> environment variable is unset, or pointing
		to the <code>Harmony/deploy/jdk/jre</code> directory.
	</p>
                                                <p>
		Run Java applications as usual, using the launcher in Harmony/deploy/jdk/jre/bin:
		<pre>&gt; jre\bin\java -showversion -jar helloworld.jar
java version 1.5 (subset)
(c) Copyright 1991, 2006 The Apache Software Foundation or its licensors, as applicable.
Hello world!
</pre>
	</p>
                            
      </td></tr>
       
                           
      </td></tr>
    </table>
    <p><a href="#top">Back to top</a></p>
                    
                                                            </td>
                </tr>

                <!-- FOOTER -->
                <tr><td colspan="2">
                    <hr noshade="" size="1"/>
                </td></tr>
                <tr><td colspan="2">
                    <div class="special"><em>
                    Copyright &#169; 2003-2006, The Apache Software Foundation
                    </em></div>
                </td></tr>
            </table>
        </body>
    </html>
<!-- end the processing -->






















