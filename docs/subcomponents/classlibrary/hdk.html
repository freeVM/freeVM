<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<!--
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements.  See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->


<!-- start the processing -->
    <!-- ====================================================================== -->
    <!-- GENERATED FILE, DO NOT EDIT, EDIT THE XML FILE IN xdocs INSTEAD! -->
    <!-- Main Page Section -->
    <!-- ====================================================================== -->
    <html>
        <head>
            <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>

                                                    <meta name="author" value="Harmony Documentation Team">
            <meta name="email" value="dev@harmony.apache.org">
            
           
            
            
            
            
            
            <title>Apache Harmony - Harmony Development Kit for the Apache Harmony Class Library</title>

                        
                        
        <link rel="stylesheet" type="text/css" href="../../site.css"/>
        </head>

        <body>        
            <table  width="100%" cellspacing="0">
                <!-- TOP IMAGE -->
                <tr>
                    <td align='LEFT'>
                    <table><tr><td>
                    <td>
<a href="http://harmony.apache.org/"><img  src="../../images/harmony-logo-new.png" alt="Apache Harmony" /></a>
</td>
</td>
                    </td></tr></table>
                    </td>
                    <td align='RIGHT'>
<!--                    <a href="http://harmony.apache.org/">
                    <img src="http://harmony.apache.org/images/apache-incubator-logo.png"
                    	alt="Apache Harmony" /></a>                    
-->                    </td>
                </tr>
            </table>
            <table width="100%" cellspacing="4">
                <tr><td colspan="2">
                    <hr noshade="" size="1"/>
                </td></tr>

                <tr>
                    <!-- LEFT SIDE NAVIGATION -->
                    <td class="menuItem" width="20%" nowrap="true">

                    <!-- special ACon Logo - leave here for next time
                    <a href="http://www.us.apachecon.com/">
                        <img src="http://www.apache.org/ads/ApacheCon/240x120-2006-us.gif"
                             alt="ApacheCon US 2006" />
                    </a> -->

                   <!-- regular menu -->

                    
    <!-- ============================================================ -->

                <p class="menuItem"><strong>General</strong></p>
        <ul>
                    <li class="menuItem">    <a href="../../index.html">Home</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../license.html">License</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../contribution_policy.html">Contribution Policy</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../guidelines.html">Project Guidelines</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="http://www.apache.org/">ASF</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../downloads.html">Downloads</a>
</li>
            
           
                        
                </ul>
            <p class="menuItem"><strong>Community</strong></p>
        <ul>
                    <li class="menuItem">    <a href="../../get-involved.html">Get Involved</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../contributors.html">Committers</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../mailing.html">Mailing Lists</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../documentation/documentation.html">Documentation</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../faq.html">FAQ</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="http://wiki.apache.org/harmony">Wiki</a>
</li>
            
           
                        
                </ul>
            <p class="menuItem"><strong>Development</strong></p>
        <ul>
                    <li class="menuItem">    <a href="../../status.html">How Are We Doing?</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../roadmap.html">Road Map / TODO</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../svn.html">Source Code</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="http://issues.apache.org/jira/browse/HARMONY">JIRA</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../related.html">Other Projects</a>
</li>
            
           
                        
                </ul>
            <p class="menuItem"><strong>Subcomponents</strong></p>
        <ul>
                    <li class="menuItem">    <a href="../../subcomponents/buildtest/index.html">Build-Test Framework</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../subcomponents/classlibrary/index.html">Class Library</a>
</li>
            
           
                           <table>
              <tr><td class="menuItem">
                &nbsp;&nbsp;&nbsp;&nbsp;    <a href="../../subcomponents/classlibrary/status.html">Status</a>
                </td></tr>
              </table>
                        
                    <li class="menuItem">    <a href="../../subcomponents/drlvm/index.html">DRLVM</a>
</li>
            
           
                        
                    <li class="menuItem">    <a href="../../subcomponents/jchevm/index.html">JCHEVM</a>
</li>
            
           
                        
                </ul>
                        </td>
                    <td width="80%" valign="top"><a name="top"></a>
                                                                    <h1>
      <a name="Harmony Development Kit for the Apache Harmony Class Library">Harmony Development Kit for the Apache Harmony Class Library</a>
    </h1>
                        <p>
		The Harmony Development Kit (HDK) allows a Harmony developer to 
		rebuild	any module of the Harmony Classlib in a standalone way by providing all the 
		necesary supplementary binaries and header files. This document describes the layout 
		of such an HDK and its contents.
	</p>
                                    
    <h2>
        <a name="Layout of the HDK">Layout of the HDK</a>
    </h2>
      
                        <p>
		An HDK contains all the header files and binaries, both native and Java, required
		for a Harmony classlib developer to build against. The directory structure for an
		HDK is as follows:
		<blockquote>
		<pre>
&lt;hdkbase&gt;
     |
     |---build
     |     |---make
     |     |---patternsets
     |     \---test
     |
     |---jdk
     |    |---jre
     |    \---include
     |
     |---include
     |
     \---lib
     
		</pre>
		</blockquote>
		
		The directories laid out above are used in the following manner:
		
		<ul>
			<li><code>&lt;hdkbase&gt;/build/make</code> - this directory contains include
			files used by native makefiles.
			</li>
			
			<li><code>&lt;hdkbase&gt;/build/patternsets</code> - this directory contains
			patternsets describing jar content.
			</li>
			
			<li><code>&lt;hdkbase&gt;/build/test</code> - this directory contains test
			support classes, bundled up into a jar file.
			</li>
			
			<li><code>&lt;hdkbase&gt;/jdk/jre</code> - this directory contains the standard
			jre layout, including <code>bin</code> and <code>lib</code> directories.
			</li>
			
			<li><code>&lt;hdkbase&gt;/jdk/include</code> - this directory contains the standard
			jdk header files. For example, jni.h is held here.
			</li>
			
			<li><code>&lt;hdkbase&gt;/include</code> - this directory contains header files that
			are Harmony specific and are used across multiple classlib modules.
			</li>
			
			<li><code>&lt;hdkbase&gt;/lib</code> - this directory is used in HDKs on Windows for
			.lib files and on Linux for .a files necessary for linking during compilation of 
			classlib natives.
			</li>
		</ul>
	</p>
                   
                                    
    <h2>
        <a name="Building Classlib Against an HDK">Building Classlib Against an HDK</a>
    </h2>
      
                        <p>
		<i>Note: The HDK and relevant build system changes are work in progress. 
		Not all of the Ant targets/properties described	exist yet, and thus not 
		all of what is described below currently works. This disclaimer will be 
		removed once work on the HDK is completed.</i><br />
		<br />
		The Harmony Class Library can be built at the global or modular level.
		At the modular level, there are three ways to build:
		<ul>
			<li><b>Building the default target</b> - An HDK is not required here, and the class
			library is built against and into the default (deploy) directory. This is the
			standard way to build, and is what happens when you just run "ant" at the
			command line.</li>
			<li><b>Building against an HDK</b> - The location of an HDK must be specified at
			the Ant command line, and the ouptut will be built into the default (deploy)
			directory. The command line for this is "ant -DHY.HDK=path/to/HDK".</li>
			<li><b>Building against an HDK and into a target directory</b> - The location of
			an HDK and of a target directory must be specified on the Ant command line.
			The Class Library code will be compiled against the libraries contained in
			the HDK, and the output of those compiles will be placed into the specified
			target directory. The command line for this is "ant -DHY.HDK=path/to/HDK
			-DHY.TARGET=path/to/target".</li>
		</ul>
		
		So, for example, if you wanted to build only the luni module against
		an HDK, and put the resulting artifacts into a separate target directory,
		you would do the following:
		<ol>
			<li>Checkout the luni module</li>
			<li>cd into the root directory of the module</li>
			<li>Execute "ant -DHY.HDK=path/to/hdk -DHY.TARGET=path/to/target"</li>
		</ol>
		The luni Java and native code will be built against the HDK location
		specified, and all produced binaries placed under the target directory, laid
		out in the HDK structure described at the top of this page.
	</p>
                   
                <p><a href="#top">Back to top</a></p>
                    
                                                            </td>
                </tr>

                <!-- FOOTER -->
                <tr><td colspan="2">
                    <hr noshade="" size="1"/>
                </td></tr>
                <tr><td colspan="2">
                    <div class="special"><em>
                    Copyright &#169; 2003-2006, The Apache Software Foundation
                    </em></div>
                </td></tr>
            </table>
        </body>
    </html>
<!-- end the processing -->























