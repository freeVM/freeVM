<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<!--
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements.  See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->


<!-- start the processing -->
    <!-- ====================================================================== -->
    <!-- GENERATED FILE, DO NOT EDIT, EDIT THE XML FILE IN xdocs INSTEAD! -->
    <!-- Main Page Section -->
    <!-- ====================================================================== -->
    <html>
        <head>
            <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>

                                                    <meta name="author" value="Harmony Documentation Team">
            <meta name="email" value="dev@harmony.apache.org">
            
           
            
            
            
            
            
            <title>Apache Harmony - Build-Test Framework</title>

                        
                        
        <link rel="stylesheet" type="text/css" href="../../site.css"/>
        </head>

        <body>        
            <table  width="100%" cellspacing="0">
                <!-- TOP IMAGE -->
                <tr>
                    <td align='LEFT'>
                    <table><tr><td>
                    <td>
<a href="http://harmony.apache.org/"><img  src="../../images/harmony-logo-new.png" alt="Apache Harmony" /></a>
</td>
</td>
                    </td></tr></table>
                    </td>
                    <td align='RIGHT'>
<!--                    <a href="http://harmony.apache.org/">
                    <img src="http://harmony.apache.org/images/apache-incubator-logo.png"
                    	alt="Apache Harmony" /></a>                    
-->                    </td>
                </tr>
            </table>
            <table width="100%" cellspacing="4">
                <tr><td colspan="2">
                    <hr noshade="" size="1"/>
                </td></tr>

                <tr>
                    <!-- LEFT SIDE NAVIGATION -->
                    <td class="menuItem" width="20%" nowrap="true">

                    <!-- special ACon Logo - leave here for next time
                    <a href="http://www.us.apachecon.com/">
                        <img src="http://www.apache.org/ads/ApacheCon/240x120-2006-us.gif"
                             alt="ApacheCon US 2006" />
                    </a> -->

                   <!-- regular menu -->

                    
    <!-- ============================================================ -->

                <p class="menuItem"><strong>General</strong></p>
        <ul>
                    <li class="menuItem">    <a href="../../index.html">Home</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../license.html">License</a>
</li>
           
                        
                    <li class="menuItem">    <a href="http://apache.org">ASF</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../contribution_policy.html">Contribution Policy</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../downloads.html">Downloads</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../faq.html">FAQ</a>
</li>
           
                        
        
        </ul>
            <p class="menuItem"><strong>Community</strong></p>
        <ul>
                    <li class="menuItem">    <a href="../../get-involved.html">Get Involved</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../contributors.html">Who we are</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../mailing.html">Mailing Lists</a>
</li>
           
                        
                    <li class="menuItem">    <a href="http://issues.apache.org/jira/browse/HARMONY">Bug Tracker</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../related.html">Other Projects</a>
</li>
           
                        
        
        </ul>
            <p class="menuItem"><strong>Development</strong></p>
        <ul>
                    <li class="menuItem">    <a href="../../svn.html">Source Code</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../quickhelp_contributors.html">Getting Started</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../roadmap.html">Project Roadmap</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../issue_resolution_guideline.html">Resolution Guideline</a>
</li>
           
                        
        
        </ul>
            <p class="menuItem"><strong>Documentation</strong></p>
        <ul>
                    <li class="menuItem">    <a href="../../sitemap.html">Sitemap</a>
</li>
           
                        
                    <li class="menuItem">    <a href="http://wiki.apache.org/harmony">Wiki</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../hdk.html">HDK</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../subcomponents/drlvm/index.html">DRLVM</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../subcomponents/classlibrary/index.html">Class Library</a>
</li>
           
                        
                    <li class="menuItem">    <a href="../../subcomponents/buildtest/index.html">Build-test Framework</a>
</li>
           
                        
        
        </ul>
                        </td>
                    <td width="80%" valign="top"><a name="top"></a>
                                                                    <h1>
      <a name="Build-Test Framework">Build-Test Framework</a>
    </h1>
                        <p>
    The
    <a href="http://svn.apache.org/viewvc/harmony/enhanced/buildtest/">
      <i>build-test framework</i></a> is a simple configuration of
    <a href="http://cruisecontrol.sourceforge.net/"><code>CruiseControl</code></a>,
    a framework for continuous build process. It also includes all the
    necessary support to simplify installation.
</p>
                                <p>
    Currently, the framework does the following distinct tasks, in order,
    and only when code changes in the repository:</p>
                                <ol>
        <li>Update the source for the class library from SVN</li>
        <li>Get any new dependencies needed for building the class library</li>
        <li>Build and test the class library</li>
        <li>Update the source for the DRLVM from SVN</li>
        <li>Get and build any new dependencies needed for DRLVM</li>
        <li>Build and test the DRLVM</li>
    </ol>
                <p><a href="#top">Back to top</a></p>
                                                <h1>
      <a name="Setup and Configuration">Setup and Configuration</a>
    </h1>
                            
    <h2>
        <a name="Prerequisites">Prerequisites</a>
    </h2>
      
                        <p>You need to obtain and install the same <a href="../../quickhelp_contributors.html">tools</a>, 
    as for building the Apache Harmony
    components.</p>
                   
                                    
    <h2>
        <a name="Setup">Setup</a>
    </h2>
      
                        <p>
       Get the <code>/harmony/enhanced/buildtest/</code> part of the Apache
       Harmony project via <code>zip</code> or <code>tgz</code> files. You also can 
       check it out from the project Subversion repository:</p>
                                <pre>svn co https://svn.apache.org/repos/asf/harmony/enhanced/buildtest/trunk</pre>
                                <p>
       With Java, Ant and SVN installed, change into the <code>buildtest/trunk</code>
       directory and type:
    </p>
                                <pre>ant setup</pre>
                                <p>
       This command fetches <code>CruiseControl</code>, sets it up with the Apache Harmony
       configuration, and checks out the software for building and testing 
       from Apache Harmony.
    </p>
                                <p>
       To run the tests successfully, you need to do the
       following manual steps for now:
    </p>
                                <ol>
      <li>
         Build the classlib to create the <code>deploy/jdk</code> tree in classlib, 
         first fetching the dependencies:
        <pre>cd cc/projects/classlib/trunk
ant fetch-depends
ant</pre>
      </li>
      <li>
         Get the appropriate IBM J9 VM for your platform (this will go
         away when DRLVM is good enough):

         <pre>http://www-128.ibm.com/developerworks/java/jdk/harmony/index.html</pre>
       </li>

        <li>
         Unpack the above-fetched J9 distribution into the <code>jdk</code> directory (as
         the distro assumes it is dropped into the<code>jdk</code> directory):

        <pre>cd cc/projects/classlib/trunk/deploy/jdk/
tar zxf Harmony-vme-linux.IA32-v4.tar.gz</pre>
        </li>

    </ol>
                   
                                    
    <h2>
        <a name="Starting CruiseControl">Starting CruiseControl</a>
    </h2>
      
                        <p>
        To start the system, type the following command in 
        <code>buildtest/trunk</code>: 
    </p>
                                <pre>ant</pre>
                                <p>The given command launches <code>CruiseControl</code> with the full test set. 
    To check status, point your browser to:</p>
                                <pre>http://localhost:8080/</pre>
                   
                <p><a href="#top">Back to top</a></p>
                    
                                                            </td>
                </tr>

                <!-- FOOTER -->
                <tr><td colspan="2">
                    <hr noshade="" size="1"/>
                </td></tr>
                <tr><td colspan="2">
                    <div class="special"><em>
                    Copyright &#169; 2003-2006, The Apache Software Foundation
                    </em></div>
                </td></tr>
            </table>
        </body>
    </html>
<!-- end the processing -->























