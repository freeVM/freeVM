<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>VM Infrastructure: Native Frames</title>
<link href="hydoxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Packages</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<h1><a class="anchor" name="native_frame">Native Frames</a></h1><h2><a class="anchor" name="nf_introduction">
Introduction</a></h2>
The native frames interface is specified by <a class="el" href="native__frame_8h.html" title="native_frame">native_frame.h</a><h2><a class="anchor" name="nf_description">
Native Frame Description</a></h2>
The candidates to fill in the native frame module are former M2nFrames and ObjectHandles.<p>
On this stage of the design process, the following types of the native frames can be imagined: <ul>
<li><a class="el" href="native_frame.html#jit_frame">JIT frame</a> (unwindable) </li>
<li><a class="el" href="native_frame.html#helper_frame">VM Helper frame</a> (unwindable) </li>
<li><a class="el" href="native_frame.html#vm_frame">VM Native frame</a> (non-unwindable) </li>
<li><a class="el" href="native_frame.html#jni_frame">JNI Native frame</a> (non-unwindable) </li>
<li><a class="el" href="native_frame.html#int_frame">Interpreter frame</a> (non-unwindable)</li>
</ul>
<h3><a class="anchor" name="jit_frame">
JIT frame</a></h3>
This frame can have varying representations in memory, depending on the method they are associated with. Normally JIT will save the information about stack frame structure in the method descriptor. This frame can be identified by pair (frame pointer, method handle).<h3><a class="anchor" name="helper_frame">
VM Helper frame</a></h3>
This type of the frame is pushed on the stack when jitted code calls for some runtime helper which needs some object handles to be allocated. Though, this type of the stack frame does not prevent exception propagation, and the exception thrown in native code will be delivered directly to jitted code, as this frame can't have any handler associated with it. (at least yet).<h3><a class="anchor" name="vm_frame">
VM Native frame</a></h3>
This type of the frame is pushed on the stack when VM needs to make sure that no exception control transfers would be made, for example, when entering to complex synchronization code.<h3><a class="anchor" name="jni_frame">
JNI Native frame</a></h3>
This type of the frame is pushed on the stack when JNI native method is to be called. The frame is used to store local object handles and to prevent destructive stack unwinding over JNI method.<h3><a class="anchor" name="int_frame">
Interpreter frame</a></h3>
Stack frame used by interpreter. Non-unwindable, as interpreter does not use destructive stack unwinding. The frame is used to store local variables, method stack and may be local object handles for use with <hr size="1">
<address style="text-align: center;">
  <small>
    <p>Genereated on Tue Mar 11 19:25:58 2008 by Doxygen.</p>
    <p>(c) Copyright 2005, 2008 The Apache Software Foundation or its licensors, as applicable. </p>
  </small>
</address>
</body>
</html>
